// Code generated by ent, DO NOT EDIT.

package generated

import (
	"context"

	"github.com/theopenlane/core/common/enums"
	"github.com/theopenlane/core/internal/ent/generated/actionplan"
	"github.com/theopenlane/core/internal/ent/generated/control"
	"github.com/theopenlane/core/internal/ent/generated/evidence"
	"github.com/theopenlane/core/internal/ent/generated/internalpolicy"
	"github.com/theopenlane/core/internal/ent/generated/procedure"
	"github.com/theopenlane/core/internal/ent/generated/subcontrol"
	"github.com/theopenlane/core/internal/ent/generated/workflowinstance"
	"github.com/theopenlane/core/internal/ent/generated/workflowobjectref"
)

// PendingActionPlanWorkflowInstances returns all running workflow instances for a specific ActionPlan
func (c *Client) PendingActionPlanWorkflowInstances(ctx context.Context, objectID string) ([]*WorkflowInstance, error) {
	return c.WorkflowObjectRef.Query().
		Where(workflowobjectref.ActionPlanIDEQ(objectID)).
		QueryWorkflowInstance().
		Where(workflowinstance.StateEQ(enums.WorkflowInstanceStateRunning)).
		All(ctx)
}

// ActionPlanEntitiesWithPendingWorkflows returns all ActionPlan entities that have pending workflow proposals
func (c *Client) ActionPlanEntitiesWithPendingWorkflows(ctx context.Context) ([]*ActionPlan, error) {
	return c.ActionPlan.Query().
		Where(actionplan.HasWorkflowObjectRefsWith(
			workflowobjectref.HasWorkflowProposalsWith(),
		)).
		All(ctx)
}

// ActionPlanEntitiesWithActiveWorkflows returns all ActionPlan entities that have running workflow instances
func (c *Client) ActionPlanEntitiesWithActiveWorkflows(ctx context.Context) ([]*ActionPlan, error) {
	return c.ActionPlan.Query().
		Where(actionplan.HasWorkflowObjectRefsWith(
			workflowobjectref.HasWorkflowInstanceWith(
				workflowinstance.StateEQ(enums.WorkflowInstanceStateRunning),
			),
		)).
		All(ctx)
}

// PendingControlWorkflowInstances returns all running workflow instances for a specific Control
func (c *Client) PendingControlWorkflowInstances(ctx context.Context, objectID string) ([]*WorkflowInstance, error) {
	return c.WorkflowObjectRef.Query().
		Where(workflowobjectref.ControlIDEQ(objectID)).
		QueryWorkflowInstance().
		Where(workflowinstance.StateEQ(enums.WorkflowInstanceStateRunning)).
		All(ctx)
}

// ControlEntitiesWithPendingWorkflows returns all Control entities that have pending workflow proposals
func (c *Client) ControlEntitiesWithPendingWorkflows(ctx context.Context) ([]*Control, error) {
	return c.Control.Query().
		Where(control.HasWorkflowObjectRefsWith(
			workflowobjectref.HasWorkflowProposalsWith(),
		)).
		All(ctx)
}

// ControlEntitiesWithActiveWorkflows returns all Control entities that have running workflow instances
func (c *Client) ControlEntitiesWithActiveWorkflows(ctx context.Context) ([]*Control, error) {
	return c.Control.Query().
		Where(control.HasWorkflowObjectRefsWith(
			workflowobjectref.HasWorkflowInstanceWith(
				workflowinstance.StateEQ(enums.WorkflowInstanceStateRunning),
			),
		)).
		All(ctx)
}

// PendingEvidenceWorkflowInstances returns all running workflow instances for a specific Evidence
func (c *Client) PendingEvidenceWorkflowInstances(ctx context.Context, objectID string) ([]*WorkflowInstance, error) {
	return c.WorkflowObjectRef.Query().
		Where(workflowobjectref.EvidenceIDEQ(objectID)).
		QueryWorkflowInstance().
		Where(workflowinstance.StateEQ(enums.WorkflowInstanceStateRunning)).
		All(ctx)
}

// EvidenceEntitiesWithPendingWorkflows returns all Evidence entities that have pending workflow proposals
func (c *Client) EvidenceEntitiesWithPendingWorkflows(ctx context.Context) ([]*Evidence, error) {
	return c.Evidence.Query().
		Where(evidence.HasWorkflowObjectRefsWith(
			workflowobjectref.HasWorkflowProposalsWith(),
		)).
		All(ctx)
}

// EvidenceEntitiesWithActiveWorkflows returns all Evidence entities that have running workflow instances
func (c *Client) EvidenceEntitiesWithActiveWorkflows(ctx context.Context) ([]*Evidence, error) {
	return c.Evidence.Query().
		Where(evidence.HasWorkflowObjectRefsWith(
			workflowobjectref.HasWorkflowInstanceWith(
				workflowinstance.StateEQ(enums.WorkflowInstanceStateRunning),
			),
		)).
		All(ctx)
}

// PendingInternalPolicyWorkflowInstances returns all running workflow instances for a specific InternalPolicy
func (c *Client) PendingInternalPolicyWorkflowInstances(ctx context.Context, objectID string) ([]*WorkflowInstance, error) {
	return c.WorkflowObjectRef.Query().
		Where(workflowobjectref.InternalPolicyIDEQ(objectID)).
		QueryWorkflowInstance().
		Where(workflowinstance.StateEQ(enums.WorkflowInstanceStateRunning)).
		All(ctx)
}

// InternalPolicyEntitiesWithPendingWorkflows returns all InternalPolicy entities that have pending workflow proposals
func (c *Client) InternalPolicyEntitiesWithPendingWorkflows(ctx context.Context) ([]*InternalPolicy, error) {
	return c.InternalPolicy.Query().
		Where(internalpolicy.HasWorkflowObjectRefsWith(
			workflowobjectref.HasWorkflowProposalsWith(),
		)).
		All(ctx)
}

// InternalPolicyEntitiesWithActiveWorkflows returns all InternalPolicy entities that have running workflow instances
func (c *Client) InternalPolicyEntitiesWithActiveWorkflows(ctx context.Context) ([]*InternalPolicy, error) {
	return c.InternalPolicy.Query().
		Where(internalpolicy.HasWorkflowObjectRefsWith(
			workflowobjectref.HasWorkflowInstanceWith(
				workflowinstance.StateEQ(enums.WorkflowInstanceStateRunning),
			),
		)).
		All(ctx)
}

// PendingProcedureWorkflowInstances returns all running workflow instances for a specific Procedure
func (c *Client) PendingProcedureWorkflowInstances(ctx context.Context, objectID string) ([]*WorkflowInstance, error) {
	return c.WorkflowObjectRef.Query().
		Where(workflowobjectref.ProcedureIDEQ(objectID)).
		QueryWorkflowInstance().
		Where(workflowinstance.StateEQ(enums.WorkflowInstanceStateRunning)).
		All(ctx)
}

// ProcedureEntitiesWithPendingWorkflows returns all Procedure entities that have pending workflow proposals
func (c *Client) ProcedureEntitiesWithPendingWorkflows(ctx context.Context) ([]*Procedure, error) {
	return c.Procedure.Query().
		Where(procedure.HasWorkflowObjectRefsWith(
			workflowobjectref.HasWorkflowProposalsWith(),
		)).
		All(ctx)
}

// ProcedureEntitiesWithActiveWorkflows returns all Procedure entities that have running workflow instances
func (c *Client) ProcedureEntitiesWithActiveWorkflows(ctx context.Context) ([]*Procedure, error) {
	return c.Procedure.Query().
		Where(procedure.HasWorkflowObjectRefsWith(
			workflowobjectref.HasWorkflowInstanceWith(
				workflowinstance.StateEQ(enums.WorkflowInstanceStateRunning),
			),
		)).
		All(ctx)
}

// PendingSubcontrolWorkflowInstances returns all running workflow instances for a specific Subcontrol
func (c *Client) PendingSubcontrolWorkflowInstances(ctx context.Context, objectID string) ([]*WorkflowInstance, error) {
	return c.WorkflowObjectRef.Query().
		Where(workflowobjectref.SubcontrolIDEQ(objectID)).
		QueryWorkflowInstance().
		Where(workflowinstance.StateEQ(enums.WorkflowInstanceStateRunning)).
		All(ctx)
}

// SubcontrolEntitiesWithPendingWorkflows returns all Subcontrol entities that have pending workflow proposals
func (c *Client) SubcontrolEntitiesWithPendingWorkflows(ctx context.Context) ([]*Subcontrol, error) {
	return c.Subcontrol.Query().
		Where(subcontrol.HasWorkflowObjectRefsWith(
			workflowobjectref.HasWorkflowProposalsWith(),
		)).
		All(ctx)
}

// SubcontrolEntitiesWithActiveWorkflows returns all Subcontrol entities that have running workflow instances
func (c *Client) SubcontrolEntitiesWithActiveWorkflows(ctx context.Context) ([]*Subcontrol, error) {
	return c.Subcontrol.Query().
		Where(subcontrol.HasWorkflowObjectRefsWith(
			workflowobjectref.HasWorkflowInstanceWith(
				workflowinstance.StateEQ(enums.WorkflowInstanceStateRunning),
			),
		)).
		All(ctx)
}
