// Code generated by ent, DO NOT EDIT.

package generated

import (
	"context"
	"errors"
	"fmt"
	"time"

	"entgo.io/ent/dialect/sql/sqlgraph"
	"entgo.io/ent/schema/field"
	"github.com/theopenlane/core/common/enums"
	"github.com/theopenlane/core/internal/ent/generated/customtypeenum"
	"github.com/theopenlane/core/internal/ent/generated/directoryaccount"
	"github.com/theopenlane/core/internal/ent/generated/directorygroup"
	"github.com/theopenlane/core/internal/ent/generated/directorymembership"
	"github.com/theopenlane/core/internal/ent/generated/directorysyncrun"
	"github.com/theopenlane/core/internal/ent/generated/integration"
	"github.com/theopenlane/core/internal/ent/generated/organization"
	"github.com/theopenlane/core/internal/ent/generated/platform"
)

// DirectorySyncRunCreate is the builder for creating a DirectorySyncRun entity.
type DirectorySyncRunCreate struct {
	config
	mutation *DirectorySyncRunMutation
	hooks    []Hook
}

// SetCreatedAt sets the "created_at" field.
func (_c *DirectorySyncRunCreate) SetCreatedAt(v time.Time) *DirectorySyncRunCreate {
	_c.mutation.SetCreatedAt(v)
	return _c
}

// SetNillableCreatedAt sets the "created_at" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableCreatedAt(v *time.Time) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetCreatedAt(*v)
	}
	return _c
}

// SetUpdatedAt sets the "updated_at" field.
func (_c *DirectorySyncRunCreate) SetUpdatedAt(v time.Time) *DirectorySyncRunCreate {
	_c.mutation.SetUpdatedAt(v)
	return _c
}

// SetNillableUpdatedAt sets the "updated_at" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableUpdatedAt(v *time.Time) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetUpdatedAt(*v)
	}
	return _c
}

// SetCreatedBy sets the "created_by" field.
func (_c *DirectorySyncRunCreate) SetCreatedBy(v string) *DirectorySyncRunCreate {
	_c.mutation.SetCreatedBy(v)
	return _c
}

// SetNillableCreatedBy sets the "created_by" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableCreatedBy(v *string) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetCreatedBy(*v)
	}
	return _c
}

// SetUpdatedBy sets the "updated_by" field.
func (_c *DirectorySyncRunCreate) SetUpdatedBy(v string) *DirectorySyncRunCreate {
	_c.mutation.SetUpdatedBy(v)
	return _c
}

// SetNillableUpdatedBy sets the "updated_by" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableUpdatedBy(v *string) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetUpdatedBy(*v)
	}
	return _c
}

// SetDisplayID sets the "display_id" field.
func (_c *DirectorySyncRunCreate) SetDisplayID(v string) *DirectorySyncRunCreate {
	_c.mutation.SetDisplayID(v)
	return _c
}

// SetOwnerID sets the "owner_id" field.
func (_c *DirectorySyncRunCreate) SetOwnerID(v string) *DirectorySyncRunCreate {
	_c.mutation.SetOwnerID(v)
	return _c
}

// SetNillableOwnerID sets the "owner_id" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableOwnerID(v *string) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetOwnerID(*v)
	}
	return _c
}

// SetEnvironmentName sets the "environment_name" field.
func (_c *DirectorySyncRunCreate) SetEnvironmentName(v string) *DirectorySyncRunCreate {
	_c.mutation.SetEnvironmentName(v)
	return _c
}

// SetNillableEnvironmentName sets the "environment_name" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableEnvironmentName(v *string) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetEnvironmentName(*v)
	}
	return _c
}

// SetEnvironmentID sets the "environment_id" field.
func (_c *DirectorySyncRunCreate) SetEnvironmentID(v string) *DirectorySyncRunCreate {
	_c.mutation.SetEnvironmentID(v)
	return _c
}

// SetNillableEnvironmentID sets the "environment_id" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableEnvironmentID(v *string) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetEnvironmentID(*v)
	}
	return _c
}

// SetScopeName sets the "scope_name" field.
func (_c *DirectorySyncRunCreate) SetScopeName(v string) *DirectorySyncRunCreate {
	_c.mutation.SetScopeName(v)
	return _c
}

// SetNillableScopeName sets the "scope_name" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableScopeName(v *string) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetScopeName(*v)
	}
	return _c
}

// SetScopeID sets the "scope_id" field.
func (_c *DirectorySyncRunCreate) SetScopeID(v string) *DirectorySyncRunCreate {
	_c.mutation.SetScopeID(v)
	return _c
}

// SetNillableScopeID sets the "scope_id" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableScopeID(v *string) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetScopeID(*v)
	}
	return _c
}

// SetIntegrationID sets the "integration_id" field.
func (_c *DirectorySyncRunCreate) SetIntegrationID(v string) *DirectorySyncRunCreate {
	_c.mutation.SetIntegrationID(v)
	return _c
}

// SetPlatformID sets the "platform_id" field.
func (_c *DirectorySyncRunCreate) SetPlatformID(v string) *DirectorySyncRunCreate {
	_c.mutation.SetPlatformID(v)
	return _c
}

// SetNillablePlatformID sets the "platform_id" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillablePlatformID(v *string) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetPlatformID(*v)
	}
	return _c
}

// SetStatus sets the "status" field.
func (_c *DirectorySyncRunCreate) SetStatus(v enums.DirectorySyncRunStatus) *DirectorySyncRunCreate {
	_c.mutation.SetStatus(v)
	return _c
}

// SetNillableStatus sets the "status" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableStatus(v *enums.DirectorySyncRunStatus) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetStatus(*v)
	}
	return _c
}

// SetStartedAt sets the "started_at" field.
func (_c *DirectorySyncRunCreate) SetStartedAt(v time.Time) *DirectorySyncRunCreate {
	_c.mutation.SetStartedAt(v)
	return _c
}

// SetNillableStartedAt sets the "started_at" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableStartedAt(v *time.Time) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetStartedAt(*v)
	}
	return _c
}

// SetCompletedAt sets the "completed_at" field.
func (_c *DirectorySyncRunCreate) SetCompletedAt(v time.Time) *DirectorySyncRunCreate {
	_c.mutation.SetCompletedAt(v)
	return _c
}

// SetNillableCompletedAt sets the "completed_at" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableCompletedAt(v *time.Time) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetCompletedAt(*v)
	}
	return _c
}

// SetSourceCursor sets the "source_cursor" field.
func (_c *DirectorySyncRunCreate) SetSourceCursor(v string) *DirectorySyncRunCreate {
	_c.mutation.SetSourceCursor(v)
	return _c
}

// SetNillableSourceCursor sets the "source_cursor" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableSourceCursor(v *string) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetSourceCursor(*v)
	}
	return _c
}

// SetFullCount sets the "full_count" field.
func (_c *DirectorySyncRunCreate) SetFullCount(v int) *DirectorySyncRunCreate {
	_c.mutation.SetFullCount(v)
	return _c
}

// SetNillableFullCount sets the "full_count" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableFullCount(v *int) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetFullCount(*v)
	}
	return _c
}

// SetDeltaCount sets the "delta_count" field.
func (_c *DirectorySyncRunCreate) SetDeltaCount(v int) *DirectorySyncRunCreate {
	_c.mutation.SetDeltaCount(v)
	return _c
}

// SetNillableDeltaCount sets the "delta_count" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableDeltaCount(v *int) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetDeltaCount(*v)
	}
	return _c
}

// SetError sets the "error" field.
func (_c *DirectorySyncRunCreate) SetError(v string) *DirectorySyncRunCreate {
	_c.mutation.SetError(v)
	return _c
}

// SetNillableError sets the "error" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableError(v *string) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetError(*v)
	}
	return _c
}

// SetRawManifestFileID sets the "raw_manifest_file_id" field.
func (_c *DirectorySyncRunCreate) SetRawManifestFileID(v string) *DirectorySyncRunCreate {
	_c.mutation.SetRawManifestFileID(v)
	return _c
}

// SetNillableRawManifestFileID sets the "raw_manifest_file_id" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableRawManifestFileID(v *string) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetRawManifestFileID(*v)
	}
	return _c
}

// SetStats sets the "stats" field.
func (_c *DirectorySyncRunCreate) SetStats(v map[string]interface{}) *DirectorySyncRunCreate {
	_c.mutation.SetStats(v)
	return _c
}

// SetID sets the "id" field.
func (_c *DirectorySyncRunCreate) SetID(v string) *DirectorySyncRunCreate {
	_c.mutation.SetID(v)
	return _c
}

// SetNillableID sets the "id" field if the given value is not nil.
func (_c *DirectorySyncRunCreate) SetNillableID(v *string) *DirectorySyncRunCreate {
	if v != nil {
		_c.SetID(*v)
	}
	return _c
}

// SetOwner sets the "owner" edge to the Organization entity.
func (_c *DirectorySyncRunCreate) SetOwner(v *Organization) *DirectorySyncRunCreate {
	return _c.SetOwnerID(v.ID)
}

// SetEnvironment sets the "environment" edge to the CustomTypeEnum entity.
func (_c *DirectorySyncRunCreate) SetEnvironment(v *CustomTypeEnum) *DirectorySyncRunCreate {
	return _c.SetEnvironmentID(v.ID)
}

// SetScope sets the "scope" edge to the CustomTypeEnum entity.
func (_c *DirectorySyncRunCreate) SetScope(v *CustomTypeEnum) *DirectorySyncRunCreate {
	return _c.SetScopeID(v.ID)
}

// SetIntegration sets the "integration" edge to the Integration entity.
func (_c *DirectorySyncRunCreate) SetIntegration(v *Integration) *DirectorySyncRunCreate {
	return _c.SetIntegrationID(v.ID)
}

// SetPlatform sets the "platform" edge to the Platform entity.
func (_c *DirectorySyncRunCreate) SetPlatform(v *Platform) *DirectorySyncRunCreate {
	return _c.SetPlatformID(v.ID)
}

// AddDirectoryAccountIDs adds the "directory_accounts" edge to the DirectoryAccount entity by IDs.
func (_c *DirectorySyncRunCreate) AddDirectoryAccountIDs(ids ...string) *DirectorySyncRunCreate {
	_c.mutation.AddDirectoryAccountIDs(ids...)
	return _c
}

// AddDirectoryAccounts adds the "directory_accounts" edges to the DirectoryAccount entity.
func (_c *DirectorySyncRunCreate) AddDirectoryAccounts(v ...*DirectoryAccount) *DirectorySyncRunCreate {
	ids := make([]string, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _c.AddDirectoryAccountIDs(ids...)
}

// AddDirectoryGroupIDs adds the "directory_groups" edge to the DirectoryGroup entity by IDs.
func (_c *DirectorySyncRunCreate) AddDirectoryGroupIDs(ids ...string) *DirectorySyncRunCreate {
	_c.mutation.AddDirectoryGroupIDs(ids...)
	return _c
}

// AddDirectoryGroups adds the "directory_groups" edges to the DirectoryGroup entity.
func (_c *DirectorySyncRunCreate) AddDirectoryGroups(v ...*DirectoryGroup) *DirectorySyncRunCreate {
	ids := make([]string, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _c.AddDirectoryGroupIDs(ids...)
}

// AddDirectoryMembershipIDs adds the "directory_memberships" edge to the DirectoryMembership entity by IDs.
func (_c *DirectorySyncRunCreate) AddDirectoryMembershipIDs(ids ...string) *DirectorySyncRunCreate {
	_c.mutation.AddDirectoryMembershipIDs(ids...)
	return _c
}

// AddDirectoryMemberships adds the "directory_memberships" edges to the DirectoryMembership entity.
func (_c *DirectorySyncRunCreate) AddDirectoryMemberships(v ...*DirectoryMembership) *DirectorySyncRunCreate {
	ids := make([]string, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _c.AddDirectoryMembershipIDs(ids...)
}

// Mutation returns the DirectorySyncRunMutation object of the builder.
func (_c *DirectorySyncRunCreate) Mutation() *DirectorySyncRunMutation {
	return _c.mutation
}

// Save creates the DirectorySyncRun in the database.
func (_c *DirectorySyncRunCreate) Save(ctx context.Context) (*DirectorySyncRun, error) {
	if err := _c.defaults(); err != nil {
		return nil, err
	}
	return withHooks(ctx, _c.sqlSave, _c.mutation, _c.hooks)
}

// SaveX calls Save and panics if Save returns an error.
func (_c *DirectorySyncRunCreate) SaveX(ctx context.Context) *DirectorySyncRun {
	v, err := _c.Save(ctx)
	if err != nil {
		panic(err)
	}
	return v
}

// Exec executes the query.
func (_c *DirectorySyncRunCreate) Exec(ctx context.Context) error {
	_, err := _c.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_c *DirectorySyncRunCreate) ExecX(ctx context.Context) {
	if err := _c.Exec(ctx); err != nil {
		panic(err)
	}
}

// defaults sets the default values of the builder before save.
func (_c *DirectorySyncRunCreate) defaults() error {
	if _, ok := _c.mutation.CreatedAt(); !ok {
		if directorysyncrun.DefaultCreatedAt == nil {
			return fmt.Errorf("generated: uninitialized directorysyncrun.DefaultCreatedAt (forgotten import generated/runtime?)")
		}
		v := directorysyncrun.DefaultCreatedAt()
		_c.mutation.SetCreatedAt(v)
	}
	if _, ok := _c.mutation.UpdatedAt(); !ok {
		if directorysyncrun.DefaultUpdatedAt == nil {
			return fmt.Errorf("generated: uninitialized directorysyncrun.DefaultUpdatedAt (forgotten import generated/runtime?)")
		}
		v := directorysyncrun.DefaultUpdatedAt()
		_c.mutation.SetUpdatedAt(v)
	}
	if _, ok := _c.mutation.Status(); !ok {
		v := directorysyncrun.DefaultStatus
		_c.mutation.SetStatus(v)
	}
	if _, ok := _c.mutation.StartedAt(); !ok {
		if directorysyncrun.DefaultStartedAt == nil {
			return fmt.Errorf("generated: uninitialized directorysyncrun.DefaultStartedAt (forgotten import generated/runtime?)")
		}
		v := directorysyncrun.DefaultStartedAt()
		_c.mutation.SetStartedAt(v)
	}
	if _, ok := _c.mutation.FullCount(); !ok {
		v := directorysyncrun.DefaultFullCount
		_c.mutation.SetFullCount(v)
	}
	if _, ok := _c.mutation.DeltaCount(); !ok {
		v := directorysyncrun.DefaultDeltaCount
		_c.mutation.SetDeltaCount(v)
	}
	if _, ok := _c.mutation.ID(); !ok {
		if directorysyncrun.DefaultID == nil {
			return fmt.Errorf("generated: uninitialized directorysyncrun.DefaultID (forgotten import generated/runtime?)")
		}
		v := directorysyncrun.DefaultID()
		_c.mutation.SetID(v)
	}
	return nil
}

// check runs all checks and user-defined validators on the builder.
func (_c *DirectorySyncRunCreate) check() error {
	if _, ok := _c.mutation.DisplayID(); !ok {
		return &ValidationError{Name: "display_id", err: errors.New(`generated: missing required field "DirectorySyncRun.display_id"`)}
	}
	if v, ok := _c.mutation.DisplayID(); ok {
		if err := directorysyncrun.DisplayIDValidator(v); err != nil {
			return &ValidationError{Name: "display_id", err: fmt.Errorf(`generated: validator failed for field "DirectorySyncRun.display_id": %w`, err)}
		}
	}
	if v, ok := _c.mutation.OwnerID(); ok {
		if err := directorysyncrun.OwnerIDValidator(v); err != nil {
			return &ValidationError{Name: "owner_id", err: fmt.Errorf(`generated: validator failed for field "DirectorySyncRun.owner_id": %w`, err)}
		}
	}
	if _, ok := _c.mutation.IntegrationID(); !ok {
		return &ValidationError{Name: "integration_id", err: errors.New(`generated: missing required field "DirectorySyncRun.integration_id"`)}
	}
	if v, ok := _c.mutation.IntegrationID(); ok {
		if err := directorysyncrun.IntegrationIDValidator(v); err != nil {
			return &ValidationError{Name: "integration_id", err: fmt.Errorf(`generated: validator failed for field "DirectorySyncRun.integration_id": %w`, err)}
		}
	}
	if v, ok := _c.mutation.PlatformID(); ok {
		if err := directorysyncrun.PlatformIDValidator(v); err != nil {
			return &ValidationError{Name: "platform_id", err: fmt.Errorf(`generated: validator failed for field "DirectorySyncRun.platform_id": %w`, err)}
		}
	}
	if _, ok := _c.mutation.Status(); !ok {
		return &ValidationError{Name: "status", err: errors.New(`generated: missing required field "DirectorySyncRun.status"`)}
	}
	if v, ok := _c.mutation.Status(); ok {
		if err := directorysyncrun.StatusValidator(v); err != nil {
			return &ValidationError{Name: "status", err: fmt.Errorf(`generated: validator failed for field "DirectorySyncRun.status": %w`, err)}
		}
	}
	if _, ok := _c.mutation.StartedAt(); !ok {
		return &ValidationError{Name: "started_at", err: errors.New(`generated: missing required field "DirectorySyncRun.started_at"`)}
	}
	if _, ok := _c.mutation.FullCount(); !ok {
		return &ValidationError{Name: "full_count", err: errors.New(`generated: missing required field "DirectorySyncRun.full_count"`)}
	}
	if _, ok := _c.mutation.DeltaCount(); !ok {
		return &ValidationError{Name: "delta_count", err: errors.New(`generated: missing required field "DirectorySyncRun.delta_count"`)}
	}
	if len(_c.mutation.IntegrationIDs()) == 0 {
		return &ValidationError{Name: "integration", err: errors.New(`generated: missing required edge "DirectorySyncRun.integration"`)}
	}
	return nil
}

func (_c *DirectorySyncRunCreate) sqlSave(ctx context.Context) (*DirectorySyncRun, error) {
	if err := _c.check(); err != nil {
		return nil, err
	}
	_node, _spec := _c.createSpec()
	if err := sqlgraph.CreateNode(ctx, _c.driver, _spec); err != nil {
		if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return nil, err
	}
	if _spec.ID.Value != nil {
		if id, ok := _spec.ID.Value.(string); ok {
			_node.ID = id
		} else {
			return nil, fmt.Errorf("unexpected DirectorySyncRun.ID type: %T", _spec.ID.Value)
		}
	}
	_c.mutation.id = &_node.ID
	_c.mutation.done = true
	return _node, nil
}

func (_c *DirectorySyncRunCreate) createSpec() (*DirectorySyncRun, *sqlgraph.CreateSpec) {
	var (
		_node = &DirectorySyncRun{config: _c.config}
		_spec = sqlgraph.NewCreateSpec(directorysyncrun.Table, sqlgraph.NewFieldSpec(directorysyncrun.FieldID, field.TypeString))
	)
	_spec.Schema = _c.schemaConfig.DirectorySyncRun
	if id, ok := _c.mutation.ID(); ok {
		_node.ID = id
		_spec.ID.Value = id
	}
	if value, ok := _c.mutation.CreatedAt(); ok {
		_spec.SetField(directorysyncrun.FieldCreatedAt, field.TypeTime, value)
		_node.CreatedAt = value
	}
	if value, ok := _c.mutation.UpdatedAt(); ok {
		_spec.SetField(directorysyncrun.FieldUpdatedAt, field.TypeTime, value)
		_node.UpdatedAt = value
	}
	if value, ok := _c.mutation.CreatedBy(); ok {
		_spec.SetField(directorysyncrun.FieldCreatedBy, field.TypeString, value)
		_node.CreatedBy = value
	}
	if value, ok := _c.mutation.UpdatedBy(); ok {
		_spec.SetField(directorysyncrun.FieldUpdatedBy, field.TypeString, value)
		_node.UpdatedBy = value
	}
	if value, ok := _c.mutation.DisplayID(); ok {
		_spec.SetField(directorysyncrun.FieldDisplayID, field.TypeString, value)
		_node.DisplayID = value
	}
	if value, ok := _c.mutation.EnvironmentName(); ok {
		_spec.SetField(directorysyncrun.FieldEnvironmentName, field.TypeString, value)
		_node.EnvironmentName = value
	}
	if value, ok := _c.mutation.ScopeName(); ok {
		_spec.SetField(directorysyncrun.FieldScopeName, field.TypeString, value)
		_node.ScopeName = value
	}
	if value, ok := _c.mutation.Status(); ok {
		_spec.SetField(directorysyncrun.FieldStatus, field.TypeEnum, value)
		_node.Status = value
	}
	if value, ok := _c.mutation.StartedAt(); ok {
		_spec.SetField(directorysyncrun.FieldStartedAt, field.TypeTime, value)
		_node.StartedAt = value
	}
	if value, ok := _c.mutation.CompletedAt(); ok {
		_spec.SetField(directorysyncrun.FieldCompletedAt, field.TypeTime, value)
		_node.CompletedAt = &value
	}
	if value, ok := _c.mutation.SourceCursor(); ok {
		_spec.SetField(directorysyncrun.FieldSourceCursor, field.TypeString, value)
		_node.SourceCursor = &value
	}
	if value, ok := _c.mutation.FullCount(); ok {
		_spec.SetField(directorysyncrun.FieldFullCount, field.TypeInt, value)
		_node.FullCount = value
	}
	if value, ok := _c.mutation.DeltaCount(); ok {
		_spec.SetField(directorysyncrun.FieldDeltaCount, field.TypeInt, value)
		_node.DeltaCount = value
	}
	if value, ok := _c.mutation.Error(); ok {
		_spec.SetField(directorysyncrun.FieldError, field.TypeString, value)
		_node.Error = &value
	}
	if value, ok := _c.mutation.RawManifestFileID(); ok {
		_spec.SetField(directorysyncrun.FieldRawManifestFileID, field.TypeString, value)
		_node.RawManifestFileID = &value
	}
	if value, ok := _c.mutation.Stats(); ok {
		_spec.SetField(directorysyncrun.FieldStats, field.TypeJSON, value)
		_node.Stats = value
	}
	if nodes := _c.mutation.OwnerIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: true,
			Table:   directorysyncrun.OwnerTable,
			Columns: []string{directorysyncrun.OwnerColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(organization.FieldID, field.TypeString),
			},
		}
		edge.Schema = _c.schemaConfig.DirectorySyncRun
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_node.OwnerID = nodes[0]
		_spec.Edges = append(_spec.Edges, edge)
	}
	if nodes := _c.mutation.EnvironmentIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: false,
			Table:   directorysyncrun.EnvironmentTable,
			Columns: []string{directorysyncrun.EnvironmentColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(customtypeenum.FieldID, field.TypeString),
			},
		}
		edge.Schema = _c.schemaConfig.DirectorySyncRun
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_node.EnvironmentID = nodes[0]
		_spec.Edges = append(_spec.Edges, edge)
	}
	if nodes := _c.mutation.ScopeIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: false,
			Table:   directorysyncrun.ScopeTable,
			Columns: []string{directorysyncrun.ScopeColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(customtypeenum.FieldID, field.TypeString),
			},
		}
		edge.Schema = _c.schemaConfig.DirectorySyncRun
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_node.ScopeID = nodes[0]
		_spec.Edges = append(_spec.Edges, edge)
	}
	if nodes := _c.mutation.IntegrationIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: true,
			Table:   directorysyncrun.IntegrationTable,
			Columns: []string{directorysyncrun.IntegrationColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(integration.FieldID, field.TypeString),
			},
		}
		edge.Schema = _c.schemaConfig.DirectorySyncRun
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_node.IntegrationID = nodes[0]
		_spec.Edges = append(_spec.Edges, edge)
	}
	if nodes := _c.mutation.PlatformIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: true,
			Table:   directorysyncrun.PlatformTable,
			Columns: []string{directorysyncrun.PlatformColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(platform.FieldID, field.TypeString),
			},
		}
		edge.Schema = _c.schemaConfig.DirectorySyncRun
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_node.PlatformID = nodes[0]
		_spec.Edges = append(_spec.Edges, edge)
	}
	if nodes := _c.mutation.DirectoryAccountsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   directorysyncrun.DirectoryAccountsTable,
			Columns: []string{directorysyncrun.DirectoryAccountsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(directoryaccount.FieldID, field.TypeString),
			},
		}
		edge.Schema = _c.schemaConfig.DirectoryAccount
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges = append(_spec.Edges, edge)
	}
	if nodes := _c.mutation.DirectoryGroupsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   directorysyncrun.DirectoryGroupsTable,
			Columns: []string{directorysyncrun.DirectoryGroupsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(directorygroup.FieldID, field.TypeString),
			},
		}
		edge.Schema = _c.schemaConfig.DirectoryGroup
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges = append(_spec.Edges, edge)
	}
	if nodes := _c.mutation.DirectoryMembershipsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   directorysyncrun.DirectoryMembershipsTable,
			Columns: []string{directorysyncrun.DirectoryMembershipsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(directorymembership.FieldID, field.TypeString),
			},
		}
		edge.Schema = _c.schemaConfig.DirectoryMembership
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges = append(_spec.Edges, edge)
	}
	return _node, _spec
}

// DirectorySyncRunCreateBulk is the builder for creating many DirectorySyncRun entities in bulk.
type DirectorySyncRunCreateBulk struct {
	config
	err      error
	builders []*DirectorySyncRunCreate
}

// Save creates the DirectorySyncRun entities in the database.
func (_c *DirectorySyncRunCreateBulk) Save(ctx context.Context) ([]*DirectorySyncRun, error) {
	if _c.err != nil {
		return nil, _c.err
	}
	specs := make([]*sqlgraph.CreateSpec, len(_c.builders))
	nodes := make([]*DirectorySyncRun, len(_c.builders))
	mutators := make([]Mutator, len(_c.builders))
	for i := range _c.builders {
		func(i int, root context.Context) {
			builder := _c.builders[i]
			builder.defaults()
			var mut Mutator = MutateFunc(func(ctx context.Context, m Mutation) (Value, error) {
				mutation, ok := m.(*DirectorySyncRunMutation)
				if !ok {
					return nil, fmt.Errorf("unexpected mutation type %T", m)
				}
				if err := builder.check(); err != nil {
					return nil, err
				}
				builder.mutation = mutation
				var err error
				nodes[i], specs[i] = builder.createSpec()
				if i < len(mutators)-1 {
					_, err = mutators[i+1].Mutate(root, _c.builders[i+1].mutation)
				} else {
					spec := &sqlgraph.BatchCreateSpec{Nodes: specs}
					// Invoke the actual operation on the latest mutation in the chain.
					if err = sqlgraph.BatchCreate(ctx, _c.driver, spec); err != nil {
						if sqlgraph.IsConstraintError(err) {
							err = &ConstraintError{msg: err.Error(), wrap: err}
						}
					}
				}
				if err != nil {
					return nil, err
				}
				mutation.id = &nodes[i].ID
				mutation.done = true
				return nodes[i], nil
			})
			for i := len(builder.hooks) - 1; i >= 0; i-- {
				mut = builder.hooks[i](mut)
			}
			mutators[i] = mut
		}(i, ctx)
	}
	if len(mutators) > 0 {
		if _, err := mutators[0].Mutate(ctx, _c.builders[0].mutation); err != nil {
			return nil, err
		}
	}
	return nodes, nil
}

// SaveX is like Save, but panics if an error occurs.
func (_c *DirectorySyncRunCreateBulk) SaveX(ctx context.Context) []*DirectorySyncRun {
	v, err := _c.Save(ctx)
	if err != nil {
		panic(err)
	}
	return v
}

// Exec executes the query.
func (_c *DirectorySyncRunCreateBulk) Exec(ctx context.Context) error {
	_, err := _c.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_c *DirectorySyncRunCreateBulk) ExecX(ctx context.Context) {
	if err := _c.Exec(ctx); err != nil {
		panic(err)
	}
}
