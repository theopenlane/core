extend type Control {
    """
    Indicates if this control has pending changes awaiting workflow approval
    """
    hasPendingWorkflow: Boolean!
    """
    Indicates if this control has any workflow history (completed or failed instances)
    """
    hasWorkflowHistory: Boolean!
    """
    Returns active workflow instances for this control (RUNNING or PAUSED)
    """
    activeWorkflowInstances: [WorkflowInstance!]!
    """
    Returns the workflow event timeline for this control across all workflow instances
    """
    workflowTimeline(
        after: Cursor
        first: Int
        before: Cursor
        last: Int
        orderBy: [WorkflowEventOrder!]
        where: WorkflowEventWhereInput
        includeEmitFailures: Boolean
    ): WorkflowEventConnection!
}

extend type Query {
    """
    Look up control by ID
    """
     control(
        """
        ID of the control
        """
        id: ID!
    ):  Control!
}

extend type Mutation{
    """
    Create a new control
    """
    createControl(
        """
        values of the control
        """
        input: CreateControlInput!
    ): ControlCreatePayload!
    """
    Create multiple new controls
    """
    createBulkControl(
        """
        values of the control
        """
        input: [CreateControlInput!]
    ): ControlBulkCreatePayload!
    """
    Create multiple new controls via file upload
    """
    createBulkCSVControl(
        """
        csv file containing values of the control
        """
        input: Upload!
    ): ControlBulkCreatePayload!
    """
    Update multiple existing controls
    """
    updateBulkControl(
        """
        IDs of the controls to update
        """
        ids: [ID!]!
        """
        values to update the controls with
        """
        input: UpdateControlInput!
    ): ControlBulkUpdatePayload!
    """
    Update multiple existing controls with a CSV upload, must include the ID or refCode and referenceFramework
    """
    updateBulkCSVControl(
        """
        values to update the controls with
        """
        input: Upload!
    ): ControlBulkUpdatePayload!
    """
    Update an existing control
    """
    updateControl(
        """
        ID of the control
        """
        id: ID!
        """
        New values for the control
        """
        input: UpdateControlInput!
    ): ControlUpdatePayload!
    """
    Delete an existing control
    """
    deleteControl(
        """
        ID of the control
        """
        id: ID!
    ): ControlDeletePayload!
    """
    Delete multiple controls
    """
    deleteBulkControl(
        """
        IDs of the controls to delete
        """
        ids: [ID!]!
    ): ControlBulkDeletePayload!
}

"""
Return response for createControl mutation
"""
type ControlCreatePayload {
    """
    Created control
    """
    control: Control!
}

"""
Return response for updateControl mutation
"""
type ControlUpdatePayload {
    """
    Updated control
    """
    control: Control!
}

"""
Return response for deleteControl mutation
"""
type ControlDeletePayload {
    """
    Deleted control ID
    """
    deletedID: ID!
}

"""
Return response for createBulkControl mutation
"""
type ControlBulkCreatePayload {
    """
    Created controls
    """
    controls: [Control!]
}

"""
Return response for updateBulkControl mutation
"""
type ControlBulkUpdatePayload {
    """
    Updated controls
    """
    controls: [Control!]
    """
    IDs of the updated controls
    """
    updatedIDs: [ID!]
}

"""
Return response for deleteBulkControl mutation
"""
type ControlBulkDeletePayload {
    """
    Deleted control IDs
    """
    deletedIDs: [ID!]!
}