extend type Campaign {
    """
    Indicates if this campaign has pending changes awaiting workflow approval
    """
    hasPendingWorkflow: Boolean!
    """
    Returns the active workflow instance for this campaign if one is running
    """
    activeWorkflowInstance: WorkflowInstance
}

extend type Query {
    """
    Look up campaign by ID
    """
     campaign(
        """
        ID of the campaign
        """
        id: ID!
    ):  Campaign!
}

extend type Mutation{
    """
    Create a new campaign
    """
    createCampaign(
        """
        values of the campaign
        """
        input: CreateCampaignInput!
    ): CampaignCreatePayload!
    """
    Create a new campaign with associated targets
    """
    createCampaignWithTargets(
        """
        values of the campaign and targets
        """
        input: CreateCampaignWithTargetsInput!
    ): CampaignCreateWithTargetsPayload!
    """
    Create a new campaign with associated targets via file upload
    """
    createCampaignWithTargetsCSV(
        """
        values of the campaign
        """
        campaign: CreateCampaignInput!
        """
        csv file containing target values
        """
        targets: Upload!
    ): CampaignCreateWithTargetsPayload!
    """
    Launch a campaign and send emails to its targets
    """
    launchCampaign(
        """
        values for launching a campaign
        """
        input: LaunchCampaignInput!
    ): CampaignLaunchPayload!
    """
    Send a test email for a campaign without creating campaign targets
    """
    sendCampaignTestEmail(
        """
        values for sending a campaign test email
        """
        input: SendCampaignTestEmailInput!
    ): CampaignTestEmailPayload!
    """
    Create multiple new campaigns
    """
    createBulkCampaign(
        """
        values of the campaign
        """
        input: [CreateCampaignInput!]
    ): CampaignBulkCreatePayload!
    """
    Create multiple new campaigns via file upload
    """
    createBulkCSVCampaign(
        """
        csv file containing values of the campaign
        """
        input: Upload!
    ): CampaignBulkCreatePayload!
    """
    Update an existing campaign
    """
    updateCampaign(
        """
        ID of the campaign
        """
        id: ID!
        """
        New values for the campaign
        """
        input: UpdateCampaignInput!
    ): CampaignUpdatePayload!
    """
    Delete an existing campaign
    """
    deleteCampaign(
        """
        ID of the campaign
        """
        id: ID!
    ): CampaignDeletePayload!
}

"""
Return response for createCampaign mutation
"""
type CampaignCreatePayload {
    """
    Created campaign
    """
    campaign: Campaign!
}

"""
Input for createCampaignWithTargets mutation
"""
input CreateCampaignWithTargetsInput {
    """
    values of the campaign
    """
    campaign: CreateCampaignInput!
    """
    list of targets to create for the campaign
    """
    targets: [CreateCampaignTargetInput!]
}

"""
Return response for createCampaignWithTargets mutation
"""
type CampaignCreateWithTargetsPayload {
    """
    Created campaign
    """
    campaign: Campaign!
    """
    Created campaign targets
    """
    campaignTargets: [CampaignTarget!]
}

"""
Input for launchCampaign mutation
"""
input LaunchCampaignInput {
    """
    ID of the campaign
    """
    campaignID: ID!
    """
    Whether to resend emails to previously-sent targets
    """
    resend: Boolean
}

"""
Return response for launchCampaign mutation
"""
type CampaignLaunchPayload {
    """
    Updated campaign
    """
    campaign: Campaign!
    """
    Number of targets queued for send
    """
    queuedCount: Int!
    """
    Number of targets skipped
    """
    skippedCount: Int!
}

"""
Input for sendCampaignTestEmail mutation
"""
input SendCampaignTestEmailInput {
    """
    ID of the campaign
    """
    campaignID: ID!
    """
    List of recipient emails to send the test to
    """
    emails: [String!]!
}

"""
Return response for sendCampaignTestEmail mutation
"""
type CampaignTestEmailPayload {
    """
    Campaign used for the test send
    """
    campaign: Campaign!
    """
    Number of emails queued for send
    """
    queuedCount: Int!
    """
    Number of emails skipped
    """
    skippedCount: Int!
}

"""
Return response for updateCampaign mutation
"""
type CampaignUpdatePayload {
    """
    Updated campaign
    """
    campaign: Campaign!
}

"""
Return response for deleteCampaign mutation
"""
type CampaignDeletePayload {
    """
    Deleted campaign ID
    """
    deletedID: ID!
}

"""
Return response for createBulkCampaign mutation
"""
type CampaignBulkCreatePayload {
    """
    Created campaigns
    """
    campaigns: [Campaign!]
}
