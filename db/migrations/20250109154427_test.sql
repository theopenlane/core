-- Modify "standard_history" table
ALTER TABLE "standard_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "organization_history" table
ALTER TABLE "organization_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Create "change_actors" table
CREATE TABLE "change_actors" ("id" character varying NOT NULL, "mapping_id" character varying NOT NULL, "deleted_at" timestamptz NULL, "deleted_by_id" character varying NULL, "name" character varying NOT NULL, "actor_type" character varying NOT NULL, PRIMARY KEY ("id"));
-- Create index "change_actors_mapping_id_key" to table: "change_actors"
CREATE UNIQUE INDEX "change_actors_mapping_id_key" ON "change_actors" ("mapping_id");
-- Modify "contact_history" table
ALTER TABLE "contact_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "org_membership_history" table
ALTER TABLE "org_membership_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "user_setting_history" table
ALTER TABLE "user_setting_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "control_objective_history" table
ALTER TABLE "control_objective_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "user_history" table
ALTER TABLE "user_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "template_history" table
ALTER TABLE "template_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "task_history" table
ALTER TABLE "task_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "document_data_history" table
ALTER TABLE "document_data_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "subcontrol_history" table
ALTER TABLE "subcontrol_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "action_plan_history" table
ALTER TABLE "action_plan_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "entity_history" table
ALTER TABLE "entity_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "entity_type_history" table
ALTER TABLE "entity_type_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "risk_history" table
ALTER TABLE "risk_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "event_history" table
ALTER TABLE "event_history" DROP COLUMN "created_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL;
-- Modify "program_membership_history" table
ALTER TABLE "program_membership_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "file_history" table
ALTER TABLE "file_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "program_history" table
ALTER TABLE "program_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "group_history" table
ALTER TABLE "group_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "group_membership_history" table
ALTER TABLE "group_membership_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "procedure_history" table
ALTER TABLE "procedure_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "group_setting_history" table
ALTER TABLE "group_setting_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "organization_setting_history" table
ALTER TABLE "organization_setting_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "org_subscription_history" table
ALTER TABLE "org_subscription_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "hush_history" table
ALTER TABLE "hush_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "action_plans" table
ALTER TABLE "action_plans" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "integration_history" table
ALTER TABLE "integration_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "control_history" table
ALTER TABLE "control_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "note_history" table
ALTER TABLE "note_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "internal_policy_history" table
ALTER TABLE "internal_policy_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "narrative_history" table
ALTER TABLE "narrative_history" DROP COLUMN "created_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "contacts" table
ALTER TABLE "contacts" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "control_objectives" table
ALTER TABLE "control_objectives" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "controls" table
ALTER TABLE "controls" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "document_data" table
ALTER TABLE "document_data" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "email_verification_tokens" table
ALTER TABLE "email_verification_tokens" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "entities" table
ALTER TABLE "entities" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "entity_types" table
ALTER TABLE "entity_types" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "events" table
ALTER TABLE "events" DROP COLUMN "created_by", DROP COLUMN "updated_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL;
-- Modify "files" table
ALTER TABLE "files" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "group_memberships" table
ALTER TABLE "group_memberships" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "group_settings" table
ALTER TABLE "group_settings" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "groups" table
ALTER TABLE "groups" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "hushes" table
ALTER TABLE "hushes" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "integrations" table
ALTER TABLE "integrations" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "internal_policies" table
ALTER TABLE "internal_policies" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "invites" table
ALTER TABLE "invites" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "narratives" table
ALTER TABLE "narratives" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "notes" table
ALTER TABLE "notes" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "org_memberships" table
ALTER TABLE "org_memberships" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "org_subscriptions" table
ALTER TABLE "org_subscriptions" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "organization_settings" table
ALTER TABLE "organization_settings" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "organizations" table
ALTER TABLE "organizations" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "password_reset_tokens" table
ALTER TABLE "password_reset_tokens" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "personal_access_tokens" table
ALTER TABLE "personal_access_tokens" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "procedures" table
ALTER TABLE "procedures" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "program_memberships" table
ALTER TABLE "program_memberships" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "programs" table
ALTER TABLE "programs" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "risks" table
ALTER TABLE "risks" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "standards" table
ALTER TABLE "standards" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "subcontrols" table
ALTER TABLE "subcontrols" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "subscribers" table
ALTER TABLE "subscribers" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "tasks" table
ALTER TABLE "tasks" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "templates" table
ALTER TABLE "templates" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "tfa_settings" table
ALTER TABLE "tfa_settings" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "user_settings" table
ALTER TABLE "user_settings" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL;
-- Modify "webauthns" table
ALTER TABLE "webauthns" DROP COLUMN "created_by", DROP COLUMN "updated_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL;
-- Modify "api_tokens" table
ALTER TABLE "api_tokens" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL, ADD COLUMN "action_plan_created_by_service" character varying NULL, ADD COLUMN "action_plan_updated_by_service" character varying NULL, ADD COLUMN "contact_created_by_service" character varying NULL, ADD COLUMN "contact_updated_by_service" character varying NULL, ADD COLUMN "control_created_by_service" character varying NULL, ADD COLUMN "control_updated_by_service" character varying NULL, ADD COLUMN "control_objective_created_by_service" character varying NULL, ADD COLUMN "control_objective_updated_by_service" character varying NULL, ADD COLUMN "document_data_created_by_service" character varying NULL, ADD COLUMN "document_data_updated_by_service" character varying NULL, ADD COLUMN "email_verification_token_created_by_service" character varying NULL, ADD COLUMN "email_verification_token_updated_by_service" character varying NULL, ADD COLUMN "entity_created_by_service" character varying NULL, ADD COLUMN "entity_updated_by_service" character varying NULL, ADD COLUMN "entity_type_created_by_service" character varying NULL, ADD COLUMN "entity_type_updated_by_service" character varying NULL, ADD COLUMN "event_created_by_service" character varying NULL, ADD COLUMN "event_updated_by_service" character varying NULL, ADD COLUMN "file_created_by_service" character varying NULL, ADD COLUMN "file_updated_by_service" character varying NULL, ADD COLUMN "group_created_by_service" character varying NULL, ADD COLUMN "group_updated_by_service" character varying NULL, ADD COLUMN "group_membership_created_by_service" character varying NULL, ADD COLUMN "group_membership_updated_by_service" character varying NULL, ADD COLUMN "group_setting_created_by_service" character varying NULL, ADD COLUMN "group_setting_updated_by_service" character varying NULL, ADD COLUMN "hush_created_by_service" character varying NULL, ADD COLUMN "hush_updated_by_service" character varying NULL, ADD COLUMN "integration_created_by_service" character varying NULL, ADD COLUMN "integration_updated_by_service" character varying NULL, ADD COLUMN "internal_policy_created_by_service" character varying NULL, ADD COLUMN "internal_policy_updated_by_service" character varying NULL, ADD COLUMN "invite_created_by_service" character varying NULL, ADD COLUMN "invite_updated_by_service" character varying NULL, ADD COLUMN "narrative_created_by_service" character varying NULL, ADD COLUMN "narrative_updated_by_service" character varying NULL, ADD COLUMN "note_created_by_service" character varying NULL, ADD COLUMN "note_updated_by_service" character varying NULL, ADD COLUMN "org_membership_created_by_service" character varying NULL, ADD COLUMN "org_membership_updated_by_service" character varying NULL, ADD COLUMN "org_subscription_created_by_service" character varying NULL, ADD COLUMN "org_subscription_updated_by_service" character varying NULL, ADD COLUMN "organization_created_by_service" character varying NULL, ADD COLUMN "organization_updated_by_service" character varying NULL, ADD COLUMN "organization_setting_created_by_service" character varying NULL, ADD COLUMN "organization_setting_updated_by_service" character varying NULL, ADD COLUMN "password_reset_token_created_by_service" character varying NULL, ADD COLUMN "password_reset_token_updated_by_service" character varying NULL, ADD COLUMN "personal_access_token_created_by_service" character varying NULL, ADD COLUMN "personal_access_token_updated_by_service" character varying NULL, ADD COLUMN "procedure_created_by_service" character varying NULL, ADD COLUMN "procedure_updated_by_service" character varying NULL, ADD COLUMN "program_created_by_service" character varying NULL, ADD COLUMN "program_updated_by_service" character varying NULL, ADD COLUMN "program_membership_created_by_service" character varying NULL, ADD COLUMN "program_membership_updated_by_service" character varying NULL, ADD COLUMN "risk_created_by_service" character varying NULL, ADD COLUMN "risk_updated_by_service" character varying NULL, ADD COLUMN "standard_created_by_service" character varying NULL, ADD COLUMN "standard_updated_by_service" character varying NULL, ADD COLUMN "subcontrol_created_by_service" character varying NULL, ADD COLUMN "subcontrol_updated_by_service" character varying NULL, ADD COLUMN "subscriber_created_by_service" character varying NULL, ADD COLUMN "subscriber_updated_by_service" character varying NULL, ADD COLUMN "tfa_setting_created_by_service" character varying NULL, ADD COLUMN "tfa_setting_updated_by_service" character varying NULL, ADD COLUMN "task_created_by_service" character varying NULL, ADD COLUMN "task_updated_by_service" character varying NULL, ADD COLUMN "template_created_by_service" character varying NULL, ADD COLUMN "template_updated_by_service" character varying NULL, ADD COLUMN "user_setting_created_by_service" character varying NULL, ADD COLUMN "user_setting_updated_by_service" character varying NULL, ADD COLUMN "webauthn_created_by_service" character varying NULL, ADD COLUMN "webauthn_updated_by_service" character varying NULL, ADD CONSTRAINT "api_tokens_action_plans_created_by_service" FOREIGN KEY ("action_plan_created_by_service") REFERENCES "action_plans" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_action_plans_updated_by_service" FOREIGN KEY ("action_plan_updated_by_service") REFERENCES "action_plans" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_contacts_created_by_service" FOREIGN KEY ("contact_created_by_service") REFERENCES "contacts" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_contacts_updated_by_service" FOREIGN KEY ("contact_updated_by_service") REFERENCES "contacts" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_control_objectives_created_by_service" FOREIGN KEY ("control_objective_created_by_service") REFERENCES "control_objectives" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_control_objectives_updated_by_service" FOREIGN KEY ("control_objective_updated_by_service") REFERENCES "control_objectives" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_controls_created_by_service" FOREIGN KEY ("control_created_by_service") REFERENCES "controls" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_controls_updated_by_service" FOREIGN KEY ("control_updated_by_service") REFERENCES "controls" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_document_data_created_by_service" FOREIGN KEY ("document_data_created_by_service") REFERENCES "document_data" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_document_data_updated_by_service" FOREIGN KEY ("document_data_updated_by_service") REFERENCES "document_data" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_email_verification_tokens_created_by_service" FOREIGN KEY ("email_verification_token_created_by_service") REFERENCES "email_verification_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_email_verification_tokens_updated_by_service" FOREIGN KEY ("email_verification_token_updated_by_service") REFERENCES "email_verification_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_entities_created_by_service" FOREIGN KEY ("entity_created_by_service") REFERENCES "entities" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_entities_updated_by_service" FOREIGN KEY ("entity_updated_by_service") REFERENCES "entities" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_entity_types_created_by_service" FOREIGN KEY ("entity_type_created_by_service") REFERENCES "entity_types" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_entity_types_updated_by_service" FOREIGN KEY ("entity_type_updated_by_service") REFERENCES "entity_types" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_events_created_by_service" FOREIGN KEY ("event_created_by_service") REFERENCES "events" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_events_updated_by_service" FOREIGN KEY ("event_updated_by_service") REFERENCES "events" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_files_created_by_service" FOREIGN KEY ("file_created_by_service") REFERENCES "files" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_files_updated_by_service" FOREIGN KEY ("file_updated_by_service") REFERENCES "files" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_group_memberships_created_by_service" FOREIGN KEY ("group_membership_created_by_service") REFERENCES "group_memberships" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_group_memberships_updated_by_service" FOREIGN KEY ("group_membership_updated_by_service") REFERENCES "group_memberships" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_group_settings_created_by_service" FOREIGN KEY ("group_setting_created_by_service") REFERENCES "group_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_group_settings_updated_by_service" FOREIGN KEY ("group_setting_updated_by_service") REFERENCES "group_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_groups_created_by_service" FOREIGN KEY ("group_created_by_service") REFERENCES "groups" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_groups_updated_by_service" FOREIGN KEY ("group_updated_by_service") REFERENCES "groups" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_hushes_created_by_service" FOREIGN KEY ("hush_created_by_service") REFERENCES "hushes" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_hushes_updated_by_service" FOREIGN KEY ("hush_updated_by_service") REFERENCES "hushes" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_integrations_created_by_service" FOREIGN KEY ("integration_created_by_service") REFERENCES "integrations" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_integrations_updated_by_service" FOREIGN KEY ("integration_updated_by_service") REFERENCES "integrations" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_internal_policies_created_by_service" FOREIGN KEY ("internal_policy_created_by_service") REFERENCES "internal_policies" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_internal_policies_updated_by_service" FOREIGN KEY ("internal_policy_updated_by_service") REFERENCES "internal_policies" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_invites_created_by_service" FOREIGN KEY ("invite_created_by_service") REFERENCES "invites" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_invites_updated_by_service" FOREIGN KEY ("invite_updated_by_service") REFERENCES "invites" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_narratives_created_by_service" FOREIGN KEY ("narrative_created_by_service") REFERENCES "narratives" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_narratives_updated_by_service" FOREIGN KEY ("narrative_updated_by_service") REFERENCES "narratives" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_notes_created_by_service" FOREIGN KEY ("note_created_by_service") REFERENCES "notes" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_notes_updated_by_service" FOREIGN KEY ("note_updated_by_service") REFERENCES "notes" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_org_memberships_created_by_service" FOREIGN KEY ("org_membership_created_by_service") REFERENCES "org_memberships" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_org_memberships_updated_by_service" FOREIGN KEY ("org_membership_updated_by_service") REFERENCES "org_memberships" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_org_subscriptions_created_by_service" FOREIGN KEY ("org_subscription_created_by_service") REFERENCES "org_subscriptions" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_org_subscriptions_updated_by_service" FOREIGN KEY ("org_subscription_updated_by_service") REFERENCES "org_subscriptions" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_organization_settings_created_by_service" FOREIGN KEY ("organization_setting_created_by_service") REFERENCES "organization_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_organization_settings_updated_by_service" FOREIGN KEY ("organization_setting_updated_by_service") REFERENCES "organization_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_organizations_created_by_service" FOREIGN KEY ("organization_created_by_service") REFERENCES "organizations" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_organizations_updated_by_service" FOREIGN KEY ("organization_updated_by_service") REFERENCES "organizations" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_password_reset_tokens_created_by_service" FOREIGN KEY ("password_reset_token_created_by_service") REFERENCES "password_reset_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_password_reset_tokens_updated_by_service" FOREIGN KEY ("password_reset_token_updated_by_service") REFERENCES "password_reset_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_personal_access_tokens_created_by_service" FOREIGN KEY ("personal_access_token_created_by_service") REFERENCES "personal_access_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_personal_access_tokens_updated_by_service" FOREIGN KEY ("personal_access_token_updated_by_service") REFERENCES "personal_access_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_procedures_created_by_service" FOREIGN KEY ("procedure_created_by_service") REFERENCES "procedures" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_procedures_updated_by_service" FOREIGN KEY ("procedure_updated_by_service") REFERENCES "procedures" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_program_memberships_created_by_service" FOREIGN KEY ("program_membership_created_by_service") REFERENCES "program_memberships" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_program_memberships_updated_by_service" FOREIGN KEY ("program_membership_updated_by_service") REFERENCES "program_memberships" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_programs_created_by_service" FOREIGN KEY ("program_created_by_service") REFERENCES "programs" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_programs_updated_by_service" FOREIGN KEY ("program_updated_by_service") REFERENCES "programs" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_risks_created_by_service" FOREIGN KEY ("risk_created_by_service") REFERENCES "risks" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_risks_updated_by_service" FOREIGN KEY ("risk_updated_by_service") REFERENCES "risks" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_standards_created_by_service" FOREIGN KEY ("standard_created_by_service") REFERENCES "standards" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_standards_updated_by_service" FOREIGN KEY ("standard_updated_by_service") REFERENCES "standards" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_subcontrols_created_by_service" FOREIGN KEY ("subcontrol_created_by_service") REFERENCES "subcontrols" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_subcontrols_updated_by_service" FOREIGN KEY ("subcontrol_updated_by_service") REFERENCES "subcontrols" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_subscribers_created_by_service" FOREIGN KEY ("subscriber_created_by_service") REFERENCES "subscribers" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_subscribers_updated_by_service" FOREIGN KEY ("subscriber_updated_by_service") REFERENCES "subscribers" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_tasks_created_by_service" FOREIGN KEY ("task_created_by_service") REFERENCES "tasks" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_tasks_updated_by_service" FOREIGN KEY ("task_updated_by_service") REFERENCES "tasks" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_templates_created_by_service" FOREIGN KEY ("template_created_by_service") REFERENCES "templates" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_templates_updated_by_service" FOREIGN KEY ("template_updated_by_service") REFERENCES "templates" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_tfa_settings_created_by_service" FOREIGN KEY ("tfa_setting_created_by_service") REFERENCES "tfa_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_tfa_settings_updated_by_service" FOREIGN KEY ("tfa_setting_updated_by_service") REFERENCES "tfa_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_user_settings_created_by_service" FOREIGN KEY ("user_setting_created_by_service") REFERENCES "user_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_user_settings_updated_by_service" FOREIGN KEY ("user_setting_updated_by_service") REFERENCES "user_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_webauthns_created_by_service" FOREIGN KEY ("webauthn_created_by_service") REFERENCES "webauthns" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "api_tokens_webauthns_updated_by_service" FOREIGN KEY ("webauthn_updated_by_service") REFERENCES "webauthns" ("id") ON UPDATE NO ACTION ON DELETE SET NULL;
-- Create "api_token_created_by_service" table
CREATE TABLE "api_token_created_by_service" ("api_token_id" character varying NOT NULL, "created_by_service_id" character varying NOT NULL, PRIMARY KEY ("api_token_id", "created_by_service_id"), CONSTRAINT "api_token_created_by_service_api_token_id" FOREIGN KEY ("api_token_id") REFERENCES "api_tokens" ("id") ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT "api_token_created_by_service_created_by_service_id" FOREIGN KEY ("created_by_service_id") REFERENCES "api_tokens" ("id") ON UPDATE NO ACTION ON DELETE CASCADE);
-- Create "api_token_updated_by_service" table
CREATE TABLE "api_token_updated_by_service" ("api_token_id" character varying NOT NULL, "updated_by_service_id" character varying NOT NULL, PRIMARY KEY ("api_token_id", "updated_by_service_id"), CONSTRAINT "api_token_updated_by_service_api_token_id" FOREIGN KEY ("api_token_id") REFERENCES "api_tokens" ("id") ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT "api_token_updated_by_service_updated_by_service_id" FOREIGN KEY ("updated_by_service_id") REFERENCES "api_tokens" ("id") ON UPDATE NO ACTION ON DELETE CASCADE);
-- Modify "users" table
ALTER TABLE "users" DROP COLUMN "created_by", DROP COLUMN "updated_by", DROP COLUMN "deleted_by", ADD COLUMN "created_by_id" character varying NULL, ADD COLUMN "updated_by_id" character varying NULL, ADD COLUMN "deleted_by_id" character varying NULL, ADD COLUMN "api_token_created_by" character varying NULL, ADD COLUMN "api_token_updated_by" character varying NULL, ADD COLUMN "action_plan_created_by" character varying NULL, ADD COLUMN "action_plan_updated_by" character varying NULL, ADD COLUMN "contact_created_by" character varying NULL, ADD COLUMN "contact_updated_by" character varying NULL, ADD COLUMN "control_created_by" character varying NULL, ADD COLUMN "control_updated_by" character varying NULL, ADD COLUMN "control_objective_created_by" character varying NULL, ADD COLUMN "control_objective_updated_by" character varying NULL, ADD COLUMN "document_data_created_by" character varying NULL, ADD COLUMN "document_data_updated_by" character varying NULL, ADD COLUMN "email_verification_token_created_by" character varying NULL, ADD COLUMN "email_verification_token_updated_by" character varying NULL, ADD COLUMN "entity_created_by" character varying NULL, ADD COLUMN "entity_updated_by" character varying NULL, ADD COLUMN "entity_type_created_by" character varying NULL, ADD COLUMN "entity_type_updated_by" character varying NULL, ADD COLUMN "event_created_by" character varying NULL, ADD COLUMN "event_updated_by" character varying NULL, ADD COLUMN "file_created_by" character varying NULL, ADD COLUMN "file_updated_by" character varying NULL, ADD COLUMN "group_created_by" character varying NULL, ADD COLUMN "group_updated_by" character varying NULL, ADD COLUMN "group_membership_created_by" character varying NULL, ADD COLUMN "group_membership_updated_by" character varying NULL, ADD COLUMN "group_setting_created_by" character varying NULL, ADD COLUMN "group_setting_updated_by" character varying NULL, ADD COLUMN "hush_created_by" character varying NULL, ADD COLUMN "hush_updated_by" character varying NULL, ADD COLUMN "integration_created_by" character varying NULL, ADD COLUMN "integration_updated_by" character varying NULL, ADD COLUMN "internal_policy_created_by" character varying NULL, ADD COLUMN "internal_policy_updated_by" character varying NULL, ADD COLUMN "invite_created_by" character varying NULL, ADD COLUMN "invite_updated_by" character varying NULL, ADD COLUMN "narrative_created_by" character varying NULL, ADD COLUMN "narrative_updated_by" character varying NULL, ADD COLUMN "note_created_by" character varying NULL, ADD COLUMN "note_updated_by" character varying NULL, ADD COLUMN "org_membership_created_by" character varying NULL, ADD COLUMN "org_membership_updated_by" character varying NULL, ADD COLUMN "org_subscription_created_by" character varying NULL, ADD COLUMN "org_subscription_updated_by" character varying NULL, ADD COLUMN "organization_created_by" character varying NULL, ADD COLUMN "organization_updated_by" character varying NULL, ADD COLUMN "organization_setting_created_by" character varying NULL, ADD COLUMN "organization_setting_updated_by" character varying NULL, ADD COLUMN "password_reset_token_created_by" character varying NULL, ADD COLUMN "password_reset_token_updated_by" character varying NULL, ADD COLUMN "personal_access_token_created_by" character varying NULL, ADD COLUMN "personal_access_token_updated_by" character varying NULL, ADD COLUMN "procedure_created_by" character varying NULL, ADD COLUMN "procedure_updated_by" character varying NULL, ADD COLUMN "program_created_by" character varying NULL, ADD COLUMN "program_updated_by" character varying NULL, ADD COLUMN "program_membership_created_by" character varying NULL, ADD COLUMN "program_membership_updated_by" character varying NULL, ADD COLUMN "risk_created_by" character varying NULL, ADD COLUMN "risk_updated_by" character varying NULL, ADD COLUMN "standard_created_by" character varying NULL, ADD COLUMN "standard_updated_by" character varying NULL, ADD COLUMN "subcontrol_created_by" character varying NULL, ADD COLUMN "subcontrol_updated_by" character varying NULL, ADD COLUMN "subscriber_created_by" character varying NULL, ADD COLUMN "subscriber_updated_by" character varying NULL, ADD COLUMN "tfa_setting_created_by" character varying NULL, ADD COLUMN "tfa_setting_updated_by" character varying NULL, ADD COLUMN "task_created_by" character varying NULL, ADD COLUMN "task_updated_by" character varying NULL, ADD COLUMN "template_created_by" character varying NULL, ADD COLUMN "template_updated_by" character varying NULL, ADD COLUMN "user_setting_created_by" character varying NULL, ADD COLUMN "user_setting_updated_by" character varying NULL, ADD COLUMN "webauthn_created_by" character varying NULL, ADD COLUMN "webauthn_updated_by" character varying NULL, ADD CONSTRAINT "users_action_plans_created_by" FOREIGN KEY ("action_plan_created_by") REFERENCES "action_plans" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_action_plans_updated_by" FOREIGN KEY ("action_plan_updated_by") REFERENCES "action_plans" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_api_tokens_created_by" FOREIGN KEY ("api_token_created_by") REFERENCES "api_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_api_tokens_updated_by" FOREIGN KEY ("api_token_updated_by") REFERENCES "api_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_contacts_created_by" FOREIGN KEY ("contact_created_by") REFERENCES "contacts" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_contacts_updated_by" FOREIGN KEY ("contact_updated_by") REFERENCES "contacts" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_control_objectives_created_by" FOREIGN KEY ("control_objective_created_by") REFERENCES "control_objectives" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_control_objectives_updated_by" FOREIGN KEY ("control_objective_updated_by") REFERENCES "control_objectives" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_controls_created_by" FOREIGN KEY ("control_created_by") REFERENCES "controls" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_controls_updated_by" FOREIGN KEY ("control_updated_by") REFERENCES "controls" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_document_data_created_by" FOREIGN KEY ("document_data_created_by") REFERENCES "document_data" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_document_data_updated_by" FOREIGN KEY ("document_data_updated_by") REFERENCES "document_data" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_email_verification_tokens_created_by" FOREIGN KEY ("email_verification_token_created_by") REFERENCES "email_verification_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_email_verification_tokens_updated_by" FOREIGN KEY ("email_verification_token_updated_by") REFERENCES "email_verification_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_entities_created_by" FOREIGN KEY ("entity_created_by") REFERENCES "entities" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_entities_updated_by" FOREIGN KEY ("entity_updated_by") REFERENCES "entities" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_entity_types_created_by" FOREIGN KEY ("entity_type_created_by") REFERENCES "entity_types" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_entity_types_updated_by" FOREIGN KEY ("entity_type_updated_by") REFERENCES "entity_types" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_events_created_by" FOREIGN KEY ("event_created_by") REFERENCES "events" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_events_updated_by" FOREIGN KEY ("event_updated_by") REFERENCES "events" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_files_created_by" FOREIGN KEY ("file_created_by") REFERENCES "files" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_files_updated_by" FOREIGN KEY ("file_updated_by") REFERENCES "files" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_group_memberships_created_by" FOREIGN KEY ("group_membership_created_by") REFERENCES "group_memberships" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_group_memberships_updated_by" FOREIGN KEY ("group_membership_updated_by") REFERENCES "group_memberships" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_group_settings_created_by" FOREIGN KEY ("group_setting_created_by") REFERENCES "group_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_group_settings_updated_by" FOREIGN KEY ("group_setting_updated_by") REFERENCES "group_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_groups_created_by" FOREIGN KEY ("group_created_by") REFERENCES "groups" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_groups_updated_by" FOREIGN KEY ("group_updated_by") REFERENCES "groups" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_hushes_created_by" FOREIGN KEY ("hush_created_by") REFERENCES "hushes" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_hushes_updated_by" FOREIGN KEY ("hush_updated_by") REFERENCES "hushes" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_integrations_created_by" FOREIGN KEY ("integration_created_by") REFERENCES "integrations" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_integrations_updated_by" FOREIGN KEY ("integration_updated_by") REFERENCES "integrations" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_internal_policies_created_by" FOREIGN KEY ("internal_policy_created_by") REFERENCES "internal_policies" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_internal_policies_updated_by" FOREIGN KEY ("internal_policy_updated_by") REFERENCES "internal_policies" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_invites_created_by" FOREIGN KEY ("invite_created_by") REFERENCES "invites" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_invites_updated_by" FOREIGN KEY ("invite_updated_by") REFERENCES "invites" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_narratives_created_by" FOREIGN KEY ("narrative_created_by") REFERENCES "narratives" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_narratives_updated_by" FOREIGN KEY ("narrative_updated_by") REFERENCES "narratives" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_notes_created_by" FOREIGN KEY ("note_created_by") REFERENCES "notes" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_notes_updated_by" FOREIGN KEY ("note_updated_by") REFERENCES "notes" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_org_memberships_created_by" FOREIGN KEY ("org_membership_created_by") REFERENCES "org_memberships" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_org_memberships_updated_by" FOREIGN KEY ("org_membership_updated_by") REFERENCES "org_memberships" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_org_subscriptions_created_by" FOREIGN KEY ("org_subscription_created_by") REFERENCES "org_subscriptions" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_org_subscriptions_updated_by" FOREIGN KEY ("org_subscription_updated_by") REFERENCES "org_subscriptions" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_organization_settings_created_by" FOREIGN KEY ("organization_setting_created_by") REFERENCES "organization_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_organization_settings_updated_by" FOREIGN KEY ("organization_setting_updated_by") REFERENCES "organization_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_organizations_created_by" FOREIGN KEY ("organization_created_by") REFERENCES "organizations" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_organizations_updated_by" FOREIGN KEY ("organization_updated_by") REFERENCES "organizations" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_password_reset_tokens_created_by" FOREIGN KEY ("password_reset_token_created_by") REFERENCES "password_reset_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_password_reset_tokens_updated_by" FOREIGN KEY ("password_reset_token_updated_by") REFERENCES "password_reset_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_personal_access_tokens_created_by" FOREIGN KEY ("personal_access_token_created_by") REFERENCES "personal_access_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_personal_access_tokens_updated_by" FOREIGN KEY ("personal_access_token_updated_by") REFERENCES "personal_access_tokens" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_procedures_created_by" FOREIGN KEY ("procedure_created_by") REFERENCES "procedures" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_procedures_updated_by" FOREIGN KEY ("procedure_updated_by") REFERENCES "procedures" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_program_memberships_created_by" FOREIGN KEY ("program_membership_created_by") REFERENCES "program_memberships" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_program_memberships_updated_by" FOREIGN KEY ("program_membership_updated_by") REFERENCES "program_memberships" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_programs_created_by" FOREIGN KEY ("program_created_by") REFERENCES "programs" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_programs_updated_by" FOREIGN KEY ("program_updated_by") REFERENCES "programs" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_risks_created_by" FOREIGN KEY ("risk_created_by") REFERENCES "risks" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_risks_updated_by" FOREIGN KEY ("risk_updated_by") REFERENCES "risks" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_standards_created_by" FOREIGN KEY ("standard_created_by") REFERENCES "standards" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_standards_updated_by" FOREIGN KEY ("standard_updated_by") REFERENCES "standards" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_subcontrols_created_by" FOREIGN KEY ("subcontrol_created_by") REFERENCES "subcontrols" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_subcontrols_updated_by" FOREIGN KEY ("subcontrol_updated_by") REFERENCES "subcontrols" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_subscribers_created_by" FOREIGN KEY ("subscriber_created_by") REFERENCES "subscribers" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_subscribers_updated_by" FOREIGN KEY ("subscriber_updated_by") REFERENCES "subscribers" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_tasks_created_by" FOREIGN KEY ("task_created_by") REFERENCES "tasks" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_tasks_updated_by" FOREIGN KEY ("task_updated_by") REFERENCES "tasks" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_templates_created_by" FOREIGN KEY ("template_created_by") REFERENCES "templates" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_templates_updated_by" FOREIGN KEY ("template_updated_by") REFERENCES "templates" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_tfa_settings_created_by" FOREIGN KEY ("tfa_setting_created_by") REFERENCES "tfa_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_tfa_settings_updated_by" FOREIGN KEY ("tfa_setting_updated_by") REFERENCES "tfa_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_user_settings_created_by" FOREIGN KEY ("user_setting_created_by") REFERENCES "user_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_user_settings_updated_by" FOREIGN KEY ("user_setting_updated_by") REFERENCES "user_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_webauthns_created_by" FOREIGN KEY ("webauthn_created_by") REFERENCES "webauthns" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "users_webauthns_updated_by" FOREIGN KEY ("webauthn_updated_by") REFERENCES "webauthns" ("id") ON UPDATE NO ACTION ON DELETE SET NULL;
