-- Create "trust_center_entities" table
CREATE TABLE "trust_center_entities" ("id" character varying NOT NULL, "created_at" timestamptz NULL, "updated_at" timestamptz NULL, "created_by" character varying NULL, "updated_by" character varying NULL, "deleted_at" timestamptz NULL, "deleted_by" character varying NULL, "url" character varying NULL, "name" character varying NOT NULL, "file_trust_center_entities" character varying NULL, "trust_center_id" character varying NULL, "logo_file_id" character varying NULL, "entity_type_id" character varying NULL, PRIMARY KEY ("id"), CONSTRAINT "trust_center_entities_entity_types_entity_type" FOREIGN KEY ("entity_type_id") REFERENCES "entity_types" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, CONSTRAINT "trust_center_entities_files_logo_file" FOREIGN KEY ("logo_file_id") REFERENCES "files" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, CONSTRAINT "trust_center_entities_files_trust_center_entities" FOREIGN KEY ("file_trust_center_entities") REFERENCES "files" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, CONSTRAINT "trust_center_entities_trust_centers_trust_center_entities" FOREIGN KEY ("trust_center_id") REFERENCES "trust_centers" ("id") ON UPDATE NO ACTION ON DELETE SET NULL);
-- Modify "groups" table
ALTER TABLE "groups" ADD COLUMN "trust_center_blocked_groups" character varying NULL, ADD COLUMN "trust_center_editors" character varying NULL, ADD COLUMN "trust_center_compliance_blocked_groups" character varying NULL, ADD COLUMN "trust_center_compliance_editors" character varying NULL, ADD COLUMN "trust_center_doc_blocked_groups" character varying NULL, ADD COLUMN "trust_center_doc_editors" character varying NULL, ADD COLUMN "trust_center_entity_blocked_groups" character varying NULL, ADD COLUMN "trust_center_entity_editors" character varying NULL, ADD COLUMN "trust_center_setting_blocked_groups" character varying NULL, ADD COLUMN "trust_center_setting_editors" character varying NULL, ADD COLUMN "trust_center_subprocessor_blocked_groups" character varying NULL, ADD COLUMN "trust_center_subprocessor_editors" character varying NULL, ADD COLUMN "trust_center_watermark_config_blocked_groups" character varying NULL, ADD COLUMN "trust_center_watermark_config_editors" character varying NULL, ADD CONSTRAINT "groups_trust_center_compliances_blocked_groups" FOREIGN KEY ("trust_center_compliance_blocked_groups") REFERENCES "trust_center_compliances" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "groups_trust_center_compliances_editors" FOREIGN KEY ("trust_center_compliance_editors") REFERENCES "trust_center_compliances" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "groups_trust_center_docs_blocked_groups" FOREIGN KEY ("trust_center_doc_blocked_groups") REFERENCES "trust_center_docs" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "groups_trust_center_docs_editors" FOREIGN KEY ("trust_center_doc_editors") REFERENCES "trust_center_docs" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "groups_trust_center_entities_blocked_groups" FOREIGN KEY ("trust_center_entity_blocked_groups") REFERENCES "trust_center_entities" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "groups_trust_center_entities_editors" FOREIGN KEY ("trust_center_entity_editors") REFERENCES "trust_center_entities" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "groups_trust_center_settings_blocked_groups" FOREIGN KEY ("trust_center_setting_blocked_groups") REFERENCES "trust_center_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "groups_trust_center_settings_editors" FOREIGN KEY ("trust_center_setting_editors") REFERENCES "trust_center_settings" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "groups_trust_center_subprocessors_blocked_groups" FOREIGN KEY ("trust_center_subprocessor_blocked_groups") REFERENCES "trust_center_subprocessors" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "groups_trust_center_subprocessors_editors" FOREIGN KEY ("trust_center_subprocessor_editors") REFERENCES "trust_center_subprocessors" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "groups_trust_center_watermark_configs_blocked_groups" FOREIGN KEY ("trust_center_watermark_config_blocked_groups") REFERENCES "trust_center_watermark_configs" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "groups_trust_center_watermark_configs_editors" FOREIGN KEY ("trust_center_watermark_config_editors") REFERENCES "trust_center_watermark_configs" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "groups_trust_centers_blocked_groups" FOREIGN KEY ("trust_center_blocked_groups") REFERENCES "trust_centers" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, ADD CONSTRAINT "groups_trust_centers_editors" FOREIGN KEY ("trust_center_editors") REFERENCES "trust_centers" ("id") ON UPDATE NO ACTION ON DELETE SET NULL;
