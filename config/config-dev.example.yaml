# server settings
server:
  dev: true
  complexitylimit: 200
  graphPool:
    maxWorkers: 10
  csrfprotection:
    enabled: false
    header: X-CSRF-Token
    cookie: ol.csrf-token
    secure: false # set to true in production
    samesite: Lax
    cookiepath: /
  enablegraphextensions: true
  enablegraphsubscriptions: false
  cachecontrol:
    enabled: false
  cors:
    alloworigins:
      - http://localhost:3001
      - https://studio.apollographql.com
      - https://sandbox.embed.apollographql.com
      - http://localhost:8000
  defaulttrustcenterdomain: "localhost:3004"
  trustcentercnametarget: "cname.demo-dns.com"

  # tls settings
  tls:
    enabled: false
campaignwebhook:
    enabled: false
    resendapikey: ""
    resendsecret: ""
# db settings
db:
  debug: true
  drivername: pgx
  cachettl: 10s
  multiwrite: false
  migrationprovider: "goose"
  runmigrations: true
  enablehistory: true

jobqueue:

# auth settings
auth:
  enabled: true
  token:
    kid: "02GGBS68AM12178M0REW3CEAFF"
    audience: "http://localhost:17608"
    refreshaudience: "http://localhost:17608"
    issuer: "http://localhost:17608"
    jwksEndpoint: "http://localhost:17608/.well-known/jwks.json"
  supportedproviders:
    - google
    - github
  providers:
    google:
      clientendpoint: "http://localhost:17608"
      clientid: "client_id_here.apps.googleusercontent.com"
      clientsecret: "client_secret_here"
      scopes:
        - email
        - profile
    github:
      clientendpoint: "http://localhost:17608"
      clientid: "client_id_here"
      clientsecret: "client_secret_here"
      scopes:
        - user:email
        - read:user
    webauthn:
      debug: false
      enabled: true
      relyingpartyid: "localhost"
      requestorigins:
        - "http://localhost:3001"

# totp settings
totp:
  codelength: 6
  enabled: true
  issuer: "theopenlane.io"
  recoverycodecount: 16
  recoverycodelength: 8
  redis: true
  secret: "4af7d1842cef4aa7b098cb68361002df"

# authz settings
authz:
  enabled: true
  storename: openlane
  hosturl: http://localhost:8080
  # set to true in dev so the model is updated when changes happen; the container needs to be restarted to see the changes
  createnewmodel: true
  credentials:
    apitoken: "QKwHEmWX99RnFh28eSRJ3GWlfb2FQkL7toh1GJpzch1mMkVeMg"

# session settings
sessions:
  encryptionkey: encryptionsecret
  signingkey: my-signing-secret
  httponly: true
  samesite: "Lax"
  secure: false # set to true in production

# email settings
email:
  companyaddress: 5150 Broadway St &middot; San Antonio, TX 78209
  companyname: Openlane
  corporation: theopenlane, Inc.
  fromemail: no-reply@mail.theopenlane.io
  supportemail: support@theopenlane.io
  urls:
    verifysubscriber: https://www.theopenlane.io/subscribe
    verify: https://console.theopenlane.io/verify
    reset: https://console.theopenlane.io/password-reset
    invite: https://console.theopenlane.io/invite
    root: https://www.theopenlane.io
    docs: https://docs.theopenlane.io
    product: https://console.theopenlane.io

ratelimit:
  enabled: false

entConfig:
  maxschemaimportsize: 262144
  modules:
    # this should only be enabled if you have subscriptions enabled as well
    enabled: false
    # this will use the catalog-sandbox.yaml, otherwise it will use catalog.yaml
    # this should allow you to use the sandbox without requiring seeding new price data
    usesandbox: true
    devmode: true
  entitytypes:
    - vendor
    - account
    - customer

objectstorage:
  devmode: true # when enabled, a local disk storage provider is automatically configured and other providers are ignored
  enabled: true
  providers:
      disk:
          bucket: ""
          credentials:
            accesskeyid: ""
            accountid: ""
            apitoken: ""
            projectid: ""
            secretaccesskey: ""
          enabled: false
          endpoint: ""
          ensureavailable: false
          region: ""
      s3:
          bucket: ""
          credentials:
              accesskeyid: ""
              accountid: ""
              apitoken: ""
              endpoint: ""
              projectid: ""
              secretaccesskey: ""
          enabled: false
          endpoint: ""
          ensureavailable: false
          region: ""

subscription:
  enabled: false
  privatestripekey: sk_test_redacted
  stripebillingportalsuccessurl: http://localhost:3001/organization-settings/billing
  stripecancellationreturnurl: http://localhost:3001/organization-settings/billing/subscription_canceled
  stripewebhookurl: https://localhost:17608/v1/stripe/webhook
  stripewebhooksecret: ""

integrationoauthprovider:
    enabled: false
    successredirecturl: ""
integrationgithubapp:
    enabled: false
    appid: ""
    appslug: ""
    privatekey: ""
    webhooksecret: ""
    successredirecturl: ""

cloudflare:
    apitoken: ""
    accountid: ""
    clientid: ""
    clientsecret: ""
    enabled: false
