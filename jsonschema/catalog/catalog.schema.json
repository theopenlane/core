{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/theopenlane/core/pkg/catalog/catalog",
  "$ref": "#/$defs/Catalog",
  "$defs": {
    "Billing": {
      "properties": {
        "prices": {
          "items": {
            "$ref": "#/$defs/Price"
          },
          "type": "array"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "prices"
      ]
    },
    "Catalog": {
      "properties": {
        "modules": {
          "$ref": "#/$defs/FeatureSet"
        },
        "addons": {
          "$ref": "#/$defs/FeatureSet"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "modules",
        "addons"
      ]
    },
    "Feature": {
      "properties": {
        "display_name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "billing": {
          "$ref": "#/$defs/Billing"
        },
        "audience": {
          "type": "string"
        },
        "usage": {
          "$ref": "#/$defs/Usage"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "display_name",
        "billing",
        "audience"
      ]
    },
    "FeatureSet": {
      "additionalProperties": {
        "$ref": "#/$defs/Feature"
      },
      "type": "object"
    },
    "Price": {
      "properties": {
        "interval": {
          "type": "string"
        },
        "unit_amount": {
          "type": "integer"
        },
        "nickname": {
          "type": "string"
        },
        "lookup_key": {
          "type": "string"
        },
        "metadata": {
          "additionalProperties": {
            "type": "string"
          },
          "type": "object"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "interval",
        "unit_amount"
      ]
    },
    "Usage": {
      "properties": {
        "evidence_storage_gb": {
          "type": "integer"
        }
      },
      "additionalProperties": false,
      "type": "object"
    }
  }
}