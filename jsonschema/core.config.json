{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/theopenlane/core/config/config.-config",
  "$defs": {
    "[]*river.PeriodicJob": {
      "items": {
        "$ref": "#/$defs/river.PeriodicJob"
      },
      "type": "array"
    },
    "[]ratelimit.RateOption": {
      "items": {
        "$ref": "#/$defs/ratelimit.RateOption"
      },
      "type": "array"
    },
    "[]rivertype.Hook": {
      "items": true,
      "type": "array"
    },
    "[]rivertype.JobInsertMiddleware": {
      "items": true,
      "type": "array"
    },
    "[]rivertype.Middleware": {
      "items": true,
      "type": "array"
    },
    "[]rivertype.WorkerMiddleware": {
      "items": true,
      "type": "array"
    },
    "[]string": {
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "cache.Config": {
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "address": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "username": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "db": {
          "type": "integer"
        },
        "dialtimeout": {
          "type": "integer"
        },
        "readtimeout": {
          "type": "integer"
        },
        "writetimeout": {
          "type": "integer"
        },
        "maxretries": {
          "type": "integer"
        },
        "minidleconns": {
          "type": "integer"
        },
        "maxidleconns": {
          "type": "integer"
        },
        "maxactiveconns": {
          "type": "integer"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "cachecontrol.Config": {
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "nocacheheaders": {
          "$ref": "#/$defs/map[string]string",
          "description": "noCacheHeaders is the header \u003c-\u003e match map pair to match in http for entity headers to remove"
        },
        "etagheaders": {
          "$ref": "#/$defs/[]string",
          "description": "etagHeaders is the string of entity headers to remove"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "Config is the config values for the cache-control middleware"
    },
    "config.Auth": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled authentication on the server, not recommended to disable"
        },
        "token": {
          "$ref": "#/$defs/tokens.Config",
          "description": "Token contains the token config settings for the issued tokens"
        },
        "supportedproviders": {
          "$ref": "#/$defs/[]string",
          "description": "SupportedProviders are the supported oauth providers that have been configured"
        },
        "providers": {
          "$ref": "#/$defs/handlers.OauthProviderConfig",
          "description": "Providers contains supported oauth2 providers configuration"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "token"
      ],
      "description": "Auth settings including oauth2 providers and token configuration"
    },
    "config.KeyWatcher": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled indicates whether the key watcher is enabled"
        },
        "keydir": {
          "type": "string",
          "description": "KeyDir is the path to the directory containing PEM keys for JWT signing"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "KeyWatcher contains settings for the key watcher that manages JWT signing keys"
    },
    "config.PoolConfig": {
      "properties": {
        "maxworkers": {
          "type": "integer",
          "description": "MaxWorkers is the maximum number of workers in the pool"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "PoolConfig contains the settings for the goroutine pool"
    },
    "config.Server": {
      "properties": {
        "dev": {
          "type": "boolean",
          "description": "Dev enables echo's dev mode options"
        },
        "listen": {
          "type": "string",
          "description": "Listen sets the listen address to serve the echo server on"
        },
        "metricsport": {
          "type": "string",
          "description": "MetricsPort sets the port for the metrics endpoint"
        },
        "shutdowngraceperiod": {
          "type": "integer",
          "description": "ShutdownGracePeriod sets the grace period for in flight requests before shutting down"
        },
        "readtimeout": {
          "type": "integer",
          "description": "ReadTimeout sets the maximum duration for reading the entire request including the body"
        },
        "writetimeout": {
          "type": "integer",
          "description": "WriteTimeout sets the maximum duration before timing out writes of the response"
        },
        "idletimeout": {
          "type": "integer",
          "description": "IdleTimeout sets the maximum amount of time to wait for the next request when keep-alives are enabled"
        },
        "readheadertimeout": {
          "type": "integer",
          "description": "ReadHeaderTimeout sets the amount of time allowed to read request headers"
        },
        "tls": {
          "$ref": "#/$defs/config.TLS",
          "description": "TLS contains the tls configuration settings"
        },
        "cors": {
          "$ref": "#/$defs/cors.Config",
          "description": "CORS contains settings to allow cross origin settings and insecure cookies"
        },
        "secure": {
          "$ref": "#/$defs/secure.Config",
          "description": "Secure contains settings for the secure middleware"
        },
        "cachecontrol": {
          "$ref": "#/$defs/cachecontrol.Config",
          "description": "CacheControl contains settings for the cache control middleware"
        },
        "mime": {
          "$ref": "#/$defs/mime.Config",
          "description": "Mime contains settings for the mime middleware"
        },
        "graphpool": {
          "$ref": "#/$defs/config.PoolConfig",
          "description": "GraphPool contains settings for the goroutine pool used by the graph resolvers"
        },
        "enablegraphextensions": {
          "type": "boolean",
          "description": "EnableGraphExtensions enables the graph extensions for the graph resolvers"
        },
        "enablegraphsubscriptions": {
          "type": "boolean",
          "description": "EnableGraphSubscriptions enables graphql subscriptions to the server using websockets or sse"
        },
        "complexitylimit": {
          "type": "integer",
          "description": "ComplexityLimit sets the maximum complexity allowed for a query"
        },
        "maxresultlimit": {
          "type": "integer",
          "description": "MaxResultLimit sets the maximum number of results allowed for a query"
        },
        "csrfprotection": {
          "$ref": "#/$defs/csrf.Config",
          "description": "CSRFProtection enables CSRF protection for the server"
        },
        "secretmanager": {
          "type": "string",
          "description": "SecretManagerSecret is the name of the GCP Secret Manager secret containing the JWT signing key"
        },
        "defaulttrustcenterdomain": {
          "type": "string",
          "description": "DefaultTrustCenterDomain is the default domain to use for the trust center if no custom domain is set"
        },
        "trustcentercnametarget": {
          "type": "string",
          "description": "TrustCenterCnameTarget is the cname target for the trust center\nUsed for mapping the vanity domains to the trust centers"
        },
        "trustcenterpreviewzoneid": {
          "type": "string",
          "description": "TrustCenterPreviewZoneID is the cloudflare zone id for the trust center preview domain"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "listen"
      ],
      "description": "Server settings for the echo server"
    },
    "config.Slack": {
      "properties": {
        "webhookurl": {
          "type": "string",
          "description": "WebhookURL is the Slack webhook to post messages to"
        },
        "newsubscribermessagefile": {
          "type": "string",
          "description": "NewSubscriberMessageFile is the path to the template used for new subscriber notifications"
        },
        "newusermessagefile": {
          "type": "string",
          "description": "NewUserMessageFile is the path to the template used for new user notifications"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "Slack contains settings for Slack notifications"
    },
    "config.TLS": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled turns on TLS settings for the server"
        },
        "certfile": {
          "type": "string",
          "description": "CertFile location for the TLS server"
        },
        "certkey": {
          "type": "string",
          "description": "CertKey file location for the TLS server"
        },
        "autocert": {
          "type": "boolean",
          "description": "AutoCert generates the cert with letsencrypt, this does not work on localhost"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "TLS settings for the server for secure connections"
    },
    "cors.Config": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enable or disable the CORS middleware"
        },
        "prefixes": {
          "$ref": "#/$defs/map[string][]string",
          "description": "Prefixes is a map of prefixes to allowed origins"
        },
        "alloworigins": {
          "$ref": "#/$defs/[]string",
          "description": "AllowOrigins is a list of allowed origins"
        },
        "cookieinsecure": {
          "type": "boolean",
          "description": "CookieInsecure sets the cookie to be insecure"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "Config holds the cors configuration settings"
    },
    "csrf.Config": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled indicates whether CSRF protection is enabled."
        },
        "header": {
          "type": "string",
          "description": "Header specifies the header name to look for the CSRF token."
        },
        "cookie": {
          "type": "string",
          "description": "Cookie specifies the cookie name used to store the CSRF token."
        },
        "secure": {
          "type": "boolean",
          "description": "Secure sets the Secure flag on the CSRF cookie."
        },
        "samesite": {
          "type": "string",
          "description": "SameSite configures the SameSite attribute on the CSRF cookie. Valid\nvalues are \"Lax\", \"Strict\", \"None\" and \"Default\"."
        },
        "cookiehttponly": {
          "type": "boolean",
          "description": "CookieHTTPOnly indicates whether the CSRF cookie is HTTP only."
        },
        "cookiedomain": {
          "type": "string",
          "description": "CookieDomain specifies the domain for the CSRF cookie, default to no domain"
        },
        "cookiepath": {
          "type": "string",
          "description": "CookiePath specifies the path for the CSRF cookie, default to \"/\""
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "Config defines configuration for the CSRF middleware wrapper."
    },
    "emailtemplates.Config": {
      "properties": {
        "companyname": {
          "type": "string"
        },
        "companyaddress": {
          "type": "string"
        },
        "corporation": {
          "type": "string"
        },
        "year": {
          "type": "integer"
        },
        "fromemail": {
          "type": "string"
        },
        "supportemail": {
          "type": "string"
        },
        "questionnaireemail": {
          "type": "string"
        },
        "logourl": {
          "type": "string"
        },
        "urls": {
          "$ref": "#/$defs/emailtemplates.URLConfig"
        },
        "templatespath": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "emailtemplates.URLConfig": {
      "properties": {
        "root": {
          "type": "string"
        },
        "product": {
          "type": "string"
        },
        "docs": {
          "type": "string"
        },
        "verify": {
          "type": "string"
        },
        "invite": {
          "type": "string"
        },
        "reset": {
          "type": "string"
        },
        "verifysubscriber": {
          "type": "string"
        },
        "verifybilling": {
          "type": "string"
        },
        "questionnaire": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "entconfig.Billing": {
      "properties": {
        "requirepaymentmethod": {
          "type": "boolean",
          "description": "RequirePaymentMethod indicates whether to check if a payment method\nexists for orgs before they can access some resource"
        },
        "bypassemaildomains": {
          "$ref": "#/$defs/[]string",
          "description": "BypassEmailDomains is a list of domains that should be allowed to bypass\nthe checks if RequirePaymentMethod above is enabled"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "Billing settings for feature access"
    },
    "entconfig.Config": {
      "properties": {
        "entitytypes": {
          "$ref": "#/$defs/[]string",
          "description": "EntityTypes is the list of entity types to create by default for the organization"
        },
        "summarizer": {
          "$ref": "#/$defs/summarizer.Config",
          "description": "Summarizer contains configuration for text summarization"
        },
        "maxpoolsize": {
          "type": "integer",
          "description": "MaxPoolSize is the max worker pool size that can be used by the ent client"
        },
        "modules": {
          "$ref": "#/$defs/entconfig.Modules",
          "description": "Modules contains the configuration for the module system"
        },
        "maxschemaimportsize": {
          "type": "integer",
          "description": "MaxSchemaImportSize is the maximum size allowed for schema imports in bytes"
        },
        "emailvalidation": {
          "$ref": "#/$defs/validator.EmailVerificationConfig",
          "description": "EmailValidation contains configuration for email validation"
        },
        "billing": {
          "$ref": "#/$defs/entconfig.Billing",
          "description": "Billing contains configuration for billing related features"
        },
        "notifications": {
          "$ref": "#/$defs/entconfig.Notifications",
          "description": "Notifications contains configuration for notifications sent to users based on events"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "Config holds the configuration for the ent server"
    },
    "entconfig.Modules": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled indicates whether to check and verify module access"
        },
        "usesandbox": {
          "type": "boolean",
          "description": "UseSandbox indicates whether to use the sandbox catalog for module access checks"
        },
        "devmode": {
          "type": "boolean",
          "description": "DevMode enables all modules for local development regardless of trial status"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "Modules settings for features access"
    },
    "entconfig.Notifications": {
      "properties": {
        "consoleurl": {
          "type": "string",
          "description": "ConsoleURL for ui links used in notifications"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "Notifications settings for notifications sent to users based on events"
    },
    "entitlements.Config": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled determines if the entitlements service is enabled"
        },
        "privatestripekey": {
          "type": "string",
          "description": "PrivateStripeKey is the key for the stripe service"
        },
        "stripewebhooksecret": {
          "type": "string",
          "description": "StripeWebhookSecret is the secret for the stripe service (legacy, use StripeWebhookSecrets for version-specific secrets)"
        },
        "stripewebhooksecrets": {
          "$ref": "#/$defs/map[string]string",
          "description": "StripeWebhookSecrets is a map of API version to webhook secrets for safe migration rollback"
        },
        "stripewebhookurl": {
          "type": "string",
          "description": "StripeWebhookURL is the URL for the stripe webhook"
        },
        "stripebillingportalsuccessurl": {
          "type": "string",
          "description": "StripeBillingPortalSuccessURL"
        },
        "stripecancellationreturnurl": {
          "type": "string",
          "description": "StripeCancellationReturnURL is the URL for the stripe cancellation return"
        },
        "stripewebhookevents": {
          "$ref": "#/$defs/[]string",
          "description": "StripeWebhookEvents is the list of events to register when creating a webhook endpoint"
        },
        "stripewebhookapiversion": {
          "type": "string",
          "description": "StripeWebhookAPIVersion is the Stripe API version currently accepted by the webhook handler"
        },
        "stripewebhookdiscardapiversion": {
          "type": "string",
          "description": "StripeWebhookDiscardAPIVersion is the Stripe API version to discard during migration"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "entx.Config": {
      "properties": {
        "debug": {
          "type": "boolean",
          "description": "debug enables printing the debug database logs"
        },
        "databasename": {
          "type": "string",
          "description": "the name of the database to use with otel tracing"
        },
        "drivername": {
          "type": "string",
          "description": "sql driver name"
        },
        "multiwrite": {
          "type": "boolean",
          "description": "enables writing to two databases simultaneously"
        },
        "primarydbsource": {
          "type": "string",
          "description": "dsn of the primary database"
        },
        "secondarydbsource": {
          "type": "string",
          "description": "dsn of the secondary database if multi-write is enabled"
        },
        "cachettl": {
          "type": "integer",
          "description": "cache results for subsequent requests"
        },
        "runmigrations": {
          "type": "boolean",
          "description": "run migrations on startup"
        },
        "migrationprovider": {
          "type": "string",
          "description": "migration provider to use for running migrations"
        },
        "enablehistory": {
          "type": "boolean",
          "description": "enable history data to be logged to the database"
        },
        "maxconnections": {
          "type": "integer",
          "description": "maximum number of connections to the database"
        },
        "maxidleconnections": {
          "type": "integer",
          "description": "maximum number of idle connections to the database"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "primarydbsource"
      ]
    },
    "fgax.Config": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "enables authorization checks with openFGA"
        },
        "storename": {
          "type": "string",
          "description": "name of openFGA store"
        },
        "hosturl": {
          "type": "string",
          "description": "host url with scheme of the openFGA API"
        },
        "storeid": {
          "type": "string",
          "description": "id of openFGA store"
        },
        "modelid": {
          "type": "string",
          "description": "id of openFGA model"
        },
        "createnewmodel": {
          "type": "boolean",
          "description": "force create a new model"
        },
        "modelfile": {
          "type": "string",
          "description": "path to the fga model file"
        },
        "credentials": {
          "$ref": "#/$defs/fgax.Credentials",
          "description": "credentials for the openFGA client"
        },
        "maxbatchwritesize": {
          "type": "integer",
          "description": "maximum number of writes per batch in a transaction"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "hosturl"
      ]
    },
    "fgax.Credentials": {
      "properties": {
        "apitoken": {
          "type": "string",
          "description": "api token for the openFGA client"
        },
        "clientid": {
          "type": "string",
          "description": "client id for the openFGA client"
        },
        "clientsecret": {
          "type": "string",
          "description": "client secret for the openFGA client"
        },
        "audience": {
          "type": "string",
          "description": "audience for the openFGA client"
        },
        "issuer": {
          "type": "string",
          "description": "issuer for the openFGA client"
        },
        "scopes": {
          "type": "string",
          "description": "scopes for the openFGA client"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "github.ProviderConfig": {
      "properties": {
        "clientid": {
          "type": "string"
        },
        "clientsecret": {
          "type": "string"
        },
        "clientendpoint": {
          "type": "string"
        },
        "scopes": {
          "$ref": "#/$defs/[]string"
        },
        "redirecturl": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "clientid",
        "clientsecret",
        "scopes",
        "redirecturl"
      ]
    },
    "google.ProviderConfig": {
      "properties": {
        "clientid": {
          "type": "string"
        },
        "clientsecret": {
          "type": "string"
        },
        "clientendpoint": {
          "type": "string"
        },
        "scopes": {
          "$ref": "#/$defs/[]string"
        },
        "redirecturl": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "clientid",
        "clientsecret",
        "scopes",
        "redirecturl"
      ]
    },
    "handlers.CampaignWebhookConfig": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled toggles the campaign webhook handler"
        },
        "resendapikey": {
          "type": "string",
          "description": "ResendAPIKey is the API key used for Resend client initialization"
        },
        "resendsecret": {
          "type": "string",
          "description": "ResendSecret is the signing secret used to verify Resend webhook payloads"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "CampaignWebhookConfig contains webhook configuration for campaign-related email providers."
    },
    "handlers.CloudflareConfig": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled toggles the Cloudflare snapshot handler"
        },
        "apitoken": {
          "type": "string",
          "description": "APIToken is the API token used for Cloudflare client initialization"
        },
        "accountid": {
          "type": "string",
          "description": "AccountID is the Cloudflare account ID to use for snapshot operations"
        },
        "clientid": {
          "type": "string",
          "description": "ClientID is the Cloudflare Access client ID for shortlink API requests"
        },
        "clientsecret": {
          "type": "string",
          "description": "ClientSecret is the Cloudflare Access client secret for shortlink API requests"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "CloudflareConfig contains configuration for Cloudflare integration."
    },
    "handlers.IntegrationGitHubAppConfig": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled toggles the GitHub App integration handlers."
        },
        "appid": {
          "type": "string",
          "description": "AppID is the GitHub App ID used for JWT signing."
        },
        "appslug": {
          "type": "string",
          "description": "AppSlug is the GitHub App slug used for the install URL."
        },
        "privatekey": {
          "type": "string",
          "description": "PrivateKey is the PEM-encoded GitHub App private key."
        },
        "webhooksecret": {
          "type": "string",
          "description": "WebhookSecret is the shared secret used to validate GitHub webhooks."
        },
        "successredirecturl": {
          "type": "string",
          "description": "SuccessRedirectURL is the URL to redirect to after successful installation."
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "IntegrationGitHubAppConfig contains configuration required to install and operate the GitHub App integration."
    },
    "handlers.IntegrationOauthProviderConfig": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled toggles initialization of the integration provider registry."
        },
        "successredirecturl": {
          "type": "string",
          "description": "SuccessRedirectURL is the URL to redirect to after successful OAuth integration."
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "IntegrationOauthProviderConfig represents the configuration for OAuth providers used for integrations."
    },
    "handlers.OauthProviderConfig": {
      "properties": {
        "redirecturl": {
          "type": "string",
          "description": "RedirectURL is the URL that the OAuth2 client will redirect to after authentication is complete"
        },
        "github": {
          "$ref": "#/$defs/github.ProviderConfig",
          "description": "Github contains the configuration settings for the Github Oauth Provider"
        },
        "google": {
          "$ref": "#/$defs/google.ProviderConfig",
          "description": "Google contains the configuration settings for the Google Oauth Provider"
        },
        "webauthn": {
          "$ref": "#/$defs/webauthn.ProviderConfig",
          "description": "Webauthn contains the configuration settings for the Webauthn Oauth Provider"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "OauthProviderConfig represents the configuration for OAuth providers such as Github and Google"
    },
    "map[string][]string": {
      "additionalProperties": {
        "$ref": "#/$defs/[]string"
      },
      "type": "object"
    },
    "map[string]river.QueueConfig": {
      "additionalProperties": {
        "$ref": "#/$defs/river.QueueConfig"
      },
      "type": "object"
    },
    "map[string]string": {
      "additionalProperties": {
        "type": "string"
      },
      "type": "object"
    },
    "map[string]tokens.APITokenKeyConfig": {
      "additionalProperties": {
        "$ref": "#/$defs/tokens.APITokenKeyConfig"
      },
      "type": "object"
    },
    "mime.Config": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled indicates if the mime middleware should be enabled"
        },
        "mimetypesfile": {
          "type": "string",
          "description": "MimeTypesFile is the file to load mime types from"
        },
        "defaultcontenttype": {
          "type": "string",
          "description": "DefaultContentType is the default content type to set if no mime type is found"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "Config defines the config for Mime middleware"
    },
    "ratelimit.Config": {
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "options": {
          "$ref": "#/$defs/[]ratelimit.RateOption",
          "description": "Options enables configuring multiple concurrent rate windows that must all pass."
        },
        "headers": {
          "$ref": "#/$defs/[]string",
          "description": "Headers determines which headers are inspected to determine the origin IP.\nDefaults to X-Forwarded-For, True-Client-IP, RemoteAddr."
        },
        "forwardedindexfrombehind": {
          "type": "integer",
          "description": "ForwardedIndexFromBehind selects which IP from X-Forwarded-For should be used.\n0 means the closest client, 1 the proxy behind it, etc."
        },
        "includepath": {
          "type": "boolean",
          "description": "IncludePath appends the request path to the limiter key when true."
        },
        "includemethod": {
          "type": "boolean",
          "description": "IncludeMethod appends the request method to the limiter key when true."
        },
        "keyprefix": {
          "type": "string",
          "description": "KeyPrefix allows scoping the limiter key space with a static prefix."
        },
        "denystatus": {
          "type": "integer",
          "description": "DenyStatus overrides the HTTP status code returned when a rate limit is exceeded."
        },
        "denymessage": {
          "type": "string",
          "description": "DenyMessage customises the error payload when a rate limit is exceeded."
        },
        "sendretryafterheader": {
          "type": "boolean",
          "description": "SendRetryAfterHeader toggles whether the Retry-After header should be added when available."
        },
        "dryrun": {
          "type": "boolean",
          "description": "DryRun enables logging rate limit decisions without blocking requests."
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "Config defines the configuration settings for the rate limiter middleware."
    },
    "ratelimit.RateOption": {
      "properties": {
        "requests": {
          "type": "integer",
          "description": "Requests is the number of requests allowed within the configured window."
        },
        "window": {
          "type": "integer",
          "description": "Window is the duration of the sliding window."
        },
        "expiration": {
          "type": "integer",
          "description": "Expiration controls how long counters are retained before eviction.\nWhen unset, Expiration defaults to twice the Window duration."
        },
        "flushinterval": {
          "type": "integer",
          "description": "FlushInterval defines how frequently expired values are purged from memory.\nWhen unset, FlushInterval defaults to 10s."
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "RateOption defines a distinct rate limiting window and request allowance."
    },
    "river.Config": {
      "properties": {
        "AdvisoryLockPrefix": {
          "type": "integer"
        },
        "CancelledJobRetentionPeriod": {
          "type": "integer"
        },
        "CompletedJobRetentionPeriod": {
          "type": "integer"
        },
        "DiscardedJobRetentionPeriod": {
          "type": "integer"
        },
        "ErrorHandler": true,
        "FetchCooldown": {
          "type": "integer"
        },
        "FetchPollInterval": {
          "type": "integer"
        },
        "ID": {
          "type": "string"
        },
        "JobCleanerTimeout": {
          "type": "integer"
        },
        "JobInsertMiddleware": {
          "$ref": "#/$defs/[]rivertype.JobInsertMiddleware"
        },
        "JobTimeout": {
          "type": "integer"
        },
        "Hooks": {
          "$ref": "#/$defs/[]rivertype.Hook"
        },
        "Logger": {
          "$ref": "#/$defs/slog.Logger"
        },
        "MaxAttempts": {
          "type": "integer"
        },
        "Middleware": {
          "$ref": "#/$defs/[]rivertype.Middleware"
        },
        "PeriodicJobs": {
          "$ref": "#/$defs/[]*river.PeriodicJob"
        },
        "PollOnly": {
          "type": "boolean"
        },
        "Queues": {
          "$ref": "#/$defs/map[string]river.QueueConfig"
        },
        "ReindexerSchedule": true,
        "ReindexerTimeout": {
          "type": "integer"
        },
        "RescueStuckJobsAfter": {
          "type": "integer"
        },
        "RetryPolicy": true,
        "Schema": {
          "type": "string"
        },
        "SkipJobKindValidation": {
          "type": "boolean"
        },
        "SkipUnknownJobCheck": {
          "type": "boolean"
        },
        "Test": {
          "$ref": "#/$defs/river.TestConfig"
        },
        "TestOnly": {
          "type": "boolean"
        },
        "Workers": {
          "$ref": "#/$defs/river.Workers"
        },
        "WorkerMiddleware": {
          "$ref": "#/$defs/[]rivertype.WorkerMiddleware"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "river.PeriodicJob": {
      "properties": {},
      "additionalProperties": false,
      "type": "object"
    },
    "river.QueueConfig": {
      "properties": {
        "FetchCooldown": {
          "type": "integer"
        },
        "FetchPollInterval": {
          "type": "integer"
        },
        "MaxWorkers": {
          "type": "integer"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "river.TestConfig": {
      "properties": {
        "DisableUniqueEnforcement": {
          "type": "boolean"
        },
        "Time": true
      },
      "additionalProperties": false,
      "type": "object"
    },
    "river.Workers": {
      "properties": {},
      "additionalProperties": false,
      "type": "object"
    },
    "riverqueue.Config": {
      "properties": {
        "connectionuri": {
          "type": "string"
        },
        "runmigrations": {
          "type": "boolean"
        },
        "riverconf": {
          "$ref": "#/$defs/river.Config"
        },
        "metrics": {
          "$ref": "#/$defs/riverqueue.MetricsConfig"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "riverqueue.MetricsConfig": {
      "properties": {
        "enablemetrics": {
          "type": "boolean"
        },
        "metricsdurationunit": {
          "type": "string"
        },
        "enablesemanticmetrics": {
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "secure.Config": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled indicates if the secure middleware should be enabled"
        },
        "xssprotection": {
          "type": "string",
          "description": "XSSProtection is the value to set the X-XSS-Protection header to - default is 1; mode=block"
        },
        "contenttypenosniff": {
          "type": "string",
          "description": "ContentTypeNosniff is the value to set the X-Content-Type-Options header to - default is nosniff"
        },
        "xframeoptions": {
          "type": "string",
          "description": "XFrameOptions is the value to set the X-Frame-Options header to - default is SAMEORIGIN"
        },
        "hstspreloadenabled": {
          "type": "boolean",
          "description": "HSTSPreloadEnabled is a boolean to enable HSTS preloading - default is false"
        },
        "hstsmaxage": {
          "type": "integer",
          "description": "HSTSMaxAge is the max age to set the HSTS header to - default is 31536000"
        },
        "contentsecuritypolicy": {
          "type": "string",
          "description": "ContentSecurityPolicy is the value to set the Content-Security-Policy header to - default is default-src 'self'"
        },
        "referrerpolicy": {
          "type": "string",
          "description": "ReferrerPolicy is the value to set the Referrer-Policy header to - default is same-origin"
        },
        "cspreportonly": {
          "type": "boolean",
          "description": "CSPReportOnly is a boolean to enable the Content-Security-Policy-Report-Only header - default is false"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "Config contains the types used in the mw middleware"
    },
    "sessions.Config": {
      "properties": {
        "signingkey": {
          "type": "string"
        },
        "encryptionkey": {
          "type": "string"
        },
        "domain": {
          "type": "string"
        },
        "maxage": {
          "type": "integer"
        },
        "secure": {
          "type": "boolean"
        },
        "httponly": {
          "type": "boolean"
        },
        "samesite": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "shortlinks.Config": {
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "clientid": {
          "type": "string"
        },
        "clientsecret": {
          "type": "string"
        },
        "endpointurl": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "slog.Logger": {
      "properties": {},
      "additionalProperties": false,
      "type": "object"
    },
    "storage.ProviderConfig": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled indicates if object storage is enabled"
        },
        "keys": {
          "$ref": "#/$defs/[]string",
          "description": "Keys are the form field keys that will be processed for uploads"
        },
        "maxsizemb": {
          "type": "integer",
          "description": "MaxSizeMB is the maximum file size allowed in MB"
        },
        "maxmemorymb": {
          "type": "integer",
          "description": "MaxMemoryMB is the maximum memory to use for file uploads in MB"
        },
        "devmode": {
          "type": "boolean",
          "description": "DevMode automatically configures a local disk storage provider (and ensures directories exist) and ignores other provider configs"
        },
        "providers": {
          "$ref": "#/$defs/storage.Providers",
          "description": "Providers contains configuration for each storage provider"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "ProviderConfig contains configuration for object storage providers"
    },
    "storage.ProviderConfigs": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled indicates if this provider is enabled"
        },
        "ensureavailable": {
          "type": "boolean",
          "description": "EnsureAvailable enforces provider availability before completing server startup"
        },
        "region": {
          "type": "string",
          "description": "Region for cloud providers"
        },
        "bucket": {
          "type": "string",
          "description": "Bucket name for cloud providers"
        },
        "endpoint": {
          "type": "string",
          "description": "Endpoint for custom endpoints"
        },
        "proxypresignenabled": {
          "type": "boolean",
          "description": "ProxyPresignEnabled toggles proxy-signed download URL generation"
        },
        "baseurl": {
          "type": "string",
          "description": "BaseURL is the prefix for proxy download URLs (e.g., http://localhost:17608/v1/files)."
        },
        "credentials": {
          "$ref": "#/$defs/storage.ProviderCredentials",
          "description": "Credentials contains the credentials for accessing the provider"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "ProviderConfigs contains configuration for all storage providers This is structured to allow easy extension for additional providers in the future"
    },
    "storage.ProviderCredentials": {
      "properties": {
        "accesskeyid": {
          "type": "string",
          "description": "AccessKeyID for cloud providers"
        },
        "secretaccesskey": {
          "type": "string",
          "description": "SecretAccessKey for cloud providers"
        },
        "projectid": {
          "type": "string",
          "description": "ProjectID for GCS"
        },
        "accountid": {
          "type": "string",
          "description": "AccountID for Cloudflare R2"
        },
        "apitoken": {
          "type": "string",
          "description": "APIToken for Cloudflare R2"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "ProviderCredentials contains credentials for a storage provider"
    },
    "storage.Providers": {
      "properties": {
        "s3": {
          "$ref": "#/$defs/storage.ProviderConfigs",
          "description": "S3 provider configuration"
        },
        "r2": {
          "$ref": "#/$defs/storage.ProviderConfigs",
          "description": "R2 provider configuration"
        },
        "disk": {
          "$ref": "#/$defs/storage.ProviderConfigs",
          "description": "Disk provider configuration"
        },
        "database": {
          "$ref": "#/$defs/storage.ProviderConfigs",
          "description": "Database provider configuration"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "summarizer.AnthropicConfig": {
      "properties": {
        "betaheader": {
          "type": "string",
          "description": "BetaHeader specifies the beta API features to enable"
        },
        "legacytextcompletion": {
          "type": "boolean",
          "description": "LegacyTextCompletion enables legacy text completion API"
        },
        "baseurl": {
          "type": "string",
          "description": "BaseURL specifies the API endpoint"
        },
        "model": {
          "type": "string",
          "description": "Model specifies the model name to use"
        },
        "apikey": {
          "type": "string",
          "description": "APIKey contains the authentication key for the service"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "AnthropicConfig contains Anthropic specific configuration"
    },
    "summarizer.CloudflareConfig": {
      "properties": {
        "model": {
          "type": "string",
          "description": "Model specifies the model name to use"
        },
        "apikey": {
          "type": "string",
          "description": "APIKey contains the authentication key for the service"
        },
        "accountid": {
          "type": "string",
          "description": "AccountID specifies the Cloudflare account ID"
        },
        "serverurl": {
          "type": "string",
          "description": "ServerURL specifies the API endpoint"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "CloudflareConfig contains Cloudflare specific configuration"
    },
    "summarizer.Config": {
      "properties": {
        "type": {
          "type": "string",
          "description": "Type specifies the summarization algorithm to use"
        },
        "llm": {
          "$ref": "#/$defs/summarizer.LLM",
          "description": "LLM contains configuration for large language model based summarization"
        },
        "maximumsentences": {
          "type": "integer",
          "description": "MaximumSentences specifies the maximum number of sentences in the summary"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "Config holds configuration for the text summarization functionality"
    },
    "summarizer.LLM": {
      "properties": {
        "provider": {
          "type": "string",
          "description": "Provider specifies which LLM service to use"
        },
        "anthropic": {
          "$ref": "#/$defs/summarizer.AnthropicConfig",
          "description": "Anthropic contains configuration for Anthropic's API"
        },
        "cloudflare": {
          "$ref": "#/$defs/summarizer.CloudflareConfig",
          "description": "Cloudflare contains configuration for Cloudflare's API"
        },
        "openai": {
          "$ref": "#/$defs/summarizer.OpenAIConfig",
          "description": "OpenAI contains configuration for OpenAI's API"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "LLM contains configuration for multiple LLM providers"
    },
    "summarizer.OpenAIConfig": {
      "properties": {
        "model": {
          "type": "string",
          "description": "Model specifies the model name to use"
        },
        "apikey": {
          "type": "string",
          "description": "APIKey contains the authentication key for the service"
        },
        "url": {
          "type": "string",
          "description": "URL specifies the API endpoint"
        },
        "organizationid": {
          "type": "string",
          "description": "OrganizationID specifies the OpenAI organization ID"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "OpenAIConfig contains OpenAI specific configuration"
    },
    "tokens.APITokenConfig": {
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "envprefix": {
          "type": "string"
        },
        "keys": {
          "$ref": "#/$defs/map[string]tokens.APITokenKeyConfig"
        },
        "secretsize": {
          "type": "integer"
        },
        "delimiter": {
          "type": "string"
        },
        "prefix": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "tokens.APITokenKeyConfig": {
      "properties": {
        "secret": {
          "type": "string"
        },
        "status": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "tokens.Config": {
      "properties": {
        "kid": {
          "type": "string"
        },
        "audience": {
          "type": "string"
        },
        "refreshaudience": {
          "type": "string"
        },
        "issuer": {
          "type": "string"
        },
        "accessduration": {
          "type": "integer"
        },
        "refreshduration": {
          "type": "integer"
        },
        "refreshoverlap": {
          "type": "integer"
        },
        "jwksendpoint": {
          "type": "string"
        },
        "keys": {
          "$ref": "#/$defs/map[string]string"
        },
        "generatekeys": {
          "type": "boolean"
        },
        "jwkscachettl": {
          "type": "integer"
        },
        "redis": {
          "$ref": "#/$defs/tokens.RedisConfig"
        },
        "apitokens": {
          "$ref": "#/$defs/tokens.APITokenConfig"
        },
        "assessmentaccessduration": {
          "type": "integer"
        },
        "trustcenterndarequestaccessduration": {
          "type": "integer"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "kid",
        "audience",
        "issuer",
        "keys"
      ]
    },
    "tokens.RedisConfig": {
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "config": {
          "$ref": "#/$defs/cache.Config"
        },
        "blacklistprefix": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "totp.Config": {
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "codelength": {
          "type": "integer"
        },
        "issuer": {
          "type": "string"
        },
        "redis": {
          "type": "boolean"
        },
        "secret": {
          "type": "string"
        },
        "recoverycodecount": {
          "type": "integer"
        },
        "recoverycodelength": {
          "type": "integer"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "validator.AllowedEmailTypes": {
      "properties": {
        "disposable": {
          "type": "boolean",
          "description": "Disposable indicates whether disposable email addresses are allowed"
        },
        "free": {
          "type": "boolean",
          "description": "Free indicates whether free email addresses are allowed"
        },
        "role": {
          "type": "boolean",
          "description": "Role indicates whether role-based email addresses are allowed"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "AllowedEmailTypes defines the allowed email types for verification"
    },
    "validator.EmailVerificationConfig": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enabled indicates whether email verification is enabled"
        },
        "enableautoupdatedisposable": {
          "type": "boolean",
          "description": "EnableAutoUpdateDisposable indicates whether to automatically update disposable email addresses"
        },
        "enablegravatarcheck": {
          "type": "boolean",
          "description": "EnableGravatarCheck indicates whether to check for Gravatar existence"
        },
        "enablesmtpcheck": {
          "type": "boolean",
          "description": "EnableSMTPCheck indicates whether to check email by smtp"
        },
        "allowedemailtypes": {
          "$ref": "#/$defs/validator.AllowedEmailTypes",
          "description": "AllowedEmailTypes defines the allowed email types for verification"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "description": "EmailVerificationConfig is the configuration for email verification"
    },
    "webauthn.ProviderConfig": {
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "displayname": {
          "type": "string"
        },
        "relyingpartyid": {
          "type": "string"
        },
        "requestorigins": {
          "$ref": "#/$defs/[]string"
        },
        "maxdevices": {
          "type": "integer"
        },
        "enforcetimeout": {
          "type": "boolean"
        },
        "timeout": {
          "type": "integer"
        },
        "debug": {
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "type": "object",
      "required": [
        "displayname",
        "relyingpartyid",
        "requestorigins"
      ]
    },
    "workflows.CELConfig": {
      "properties": {
        "timeout": {
          "type": "integer"
        },
        "costlimit": {
          "type": "integer"
        },
        "interruptcheckfrequency": {
          "type": "integer"
        },
        "parserrecursionlimit": {
          "type": "integer"
        },
        "parserexpressionsizelimit": {
          "type": "integer"
        },
        "comprehensionnestinglimit": {
          "type": "integer"
        },
        "extendedvalidations": {
          "type": "boolean"
        },
        "optionaltypes": {
          "type": "boolean"
        },
        "identifierescapesyntax": {
          "type": "boolean"
        },
        "crosstypenumericcomparisons": {
          "type": "boolean"
        },
        "macrocalltracking": {
          "type": "boolean"
        },
        "evaloptimize": {
          "type": "boolean"
        },
        "trackstate": {
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "workflows.Config": {
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "cel": {
          "$ref": "#/$defs/workflows.CELConfig"
        },
        "gala": {
          "$ref": "#/$defs/workflows.GalaConfig"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "workflows.GalaConfig": {
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "workercount": {
          "type": "integer"
        },
        "maxretries": {
          "type": "integer"
        },
        "failonenqueueerror": {
          "type": "boolean"
        },
        "queuename": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    }
  },
  "properties": {
    "domain": {
      "type": "string",
      "description": "Domain provides a global domain value for other modules to inherit"
    },
    "refreshinterval": {
      "type": "integer",
      "description": "RefreshInterval determines how often to reload the config"
    },
    "server": {
      "$ref": "#/$defs/config.Server",
      "description": "Server contains the echo server settings"
    },
    "entconfig": {
      "$ref": "#/$defs/entconfig.Config",
      "description": "EntConfig contains the ent configuration used by the ent middleware"
    },
    "auth": {
      "$ref": "#/$defs/config.Auth",
      "description": "Auth contains the authentication token settings and provider(s)"
    },
    "authz": {
      "$ref": "#/$defs/fgax.Config",
      "description": "Authz contains the authorization settings for fine grained access control"
    },
    "db": {
      "$ref": "#/$defs/entx.Config",
      "description": "DB contains the database configuration for the ent client"
    },
    "jobqueue": {
      "$ref": "#/$defs/riverqueue.Config",
      "description": "JobQueue contains the configuration for the job queue (river) client"
    },
    "redis": {
      "$ref": "#/$defs/cache.Config",
      "description": "Redis contains the redis configuration for the key-value store"
    },
    "email": {
      "$ref": "#/$defs/emailtemplates.Config",
      "description": "Email contains email sending configuration for the server"
    },
    "sessions": {
      "$ref": "#/$defs/sessions.Config",
      "description": "Sessions config for user sessions and cookies"
    },
    "totp": {
      "$ref": "#/$defs/totp.Config",
      "description": "TOTP contains the configuration for the TOTP provider"
    },
    "ratelimit": {
      "$ref": "#/$defs/ratelimit.Config",
      "description": "Ratelimit contains the configuration for the rate limiter"
    },
    "objectstorage": {
      "$ref": "#/$defs/storage.ProviderConfig",
      "description": "ObjectStorage contains the configuration for the object storage backend"
    },
    "subscription": {
      "$ref": "#/$defs/entitlements.Config",
      "description": "Entitlements contains the configuration for the entitlements service"
    },
    "keywatcher": {
      "$ref": "#/$defs/config.KeyWatcher",
      "description": "Keywatcher contains the configuration for the key watcher that manages JWT signing keys"
    },
    "slack": {
      "$ref": "#/$defs/config.Slack",
      "description": "Slack contains settings for Slack notifications"
    },
    "integrationoauthprovider": {
      "$ref": "#/$defs/handlers.IntegrationOauthProviderConfig",
      "description": "IntegrationOauthProvider contains the OAuth provider configuration for integrations (separate from auth.providers)"
    },
    "integrationgithubapp": {
      "$ref": "#/$defs/handlers.IntegrationGitHubAppConfig",
      "description": "IntegrationGitHubApp contains configuration for GitHub App integrations"
    },
    "workflows": {
      "$ref": "#/$defs/workflows.Config",
      "description": "Workflows contains the configuration for the workflows engine"
    },
    "campaignwebhook": {
      "$ref": "#/$defs/handlers.CampaignWebhookConfig",
      "description": "CampaignWebhook contains webhook configuration for campaign-related email providers"
    },
    "cloudflare": {
      "$ref": "#/$defs/handlers.CloudflareConfig",
      "description": "Cloudflare contains configuration for Cloudflare integration"
    },
    "shortlinks": {
      "$ref": "#/$defs/shortlinks.Config",
      "description": "Shortlinks contains configuration for the URL shortening service"
    }
  },
  "additionalProperties": false,
  "type": "object",
  "description": "Config contains the configuration for the core server"
}